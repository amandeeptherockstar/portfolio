---
title: "The Dark Side of React Custom Hooks: Unnecessary Re-Renders"
description: "Custom Hooks are powerful, but misusing them can silently wreck your app's performance. In this post, we explore the hidden pitfalls of React custom hooksâ€”particularly how they can lead to unnecessary re-renders. Learn how to identify these issues, structure your hooks smartly, and build flexible, composable components without sacrificing performance."
publishDate: "2025-04-01"
tags: ["React", "Hooks", "Design Patterns", "Advanced React Hooks"]
---

React custom hooks are a fantastic way to reuse logic across your components. Theyâ€™re clean, modular, and make your code feel more organized. But thereâ€™s a sneaky downside:

**State updates in custom hooks can trigger re-renders in your componentsâ€Šâ€”â€Ševen if youâ€™re not using the values they return.**

Letâ€™s break this down with a simple example, explore why itâ€™s a problem, and learn how to fix it in an easy, practical way.

### The Problem: A Custom Hook That Bites Back

Imagine youâ€™re building a React app and you want to track the windowâ€™s width. You decide to create a custom hook called `useWindowSize` to handle this. Hereâ€™s what it might look like:

```javascript
const useWindowSize = () => {  
  const [width, setWidth] = useState(window.innerWidth);  
  
  useEffect(() => {  
    const handleResize = () => setWidth(window.innerWidth);  
    window.addEventListener("resize", handleResize);  
    return () => window.removeEventListener("resize", handleResize);  
  }, []);  
  
  return null; // Weâ€™re not even returning the width!  
};  
  
const App = () => {  
  useWindowSize(); // Just calling the hook  
  return <p>App Component</p>;  
};
```

At first glance, this looks fine. The hook listens for window resize events, updates the width state, andâ€¦ thatâ€™s it. The App component calls `useWindowSize()` but doesnâ€™t use its return value (which is `null` anyway). So, no harm done, right?

Wrong. Hereâ€™s the catch: every time you resize the window, the setWidth call updates the state inside useWindowSize. Since App component used the hook, React considers the App dependent on it. **The entire App component re-renders on every resize**, even though it doesnâ€™t care about the width value. Thatâ€™s a performance hit you didnâ€™t sign up for!

#### Why Does This Happen?

In React, when a hook updates its internal state (like calling `setWidth`), it tells any component using that hook: â€œHey, something changedâ€Šâ€”â€Štime to re-render!â€ This happens regardless of whether the component actually uses the hookâ€™s returned value. Itâ€™s just how Reactâ€™s dependency tracking works. In our example, `App` component re-renders unnecessarily because itâ€™s â€œtiedâ€ to `useWindowSize`, even though it doesnâ€™t need the `width`.

This might not seem like a big deal in a small app, but imagine App is a complex component with lots of child elements. All that re-rendering could slow things down, making your app feel sluggish.

### Issues

-   **Resizing the window triggers a state update** inside `useWindowSize`.
-   Since `App` **uses** `useWindowSize`It **re-renders every time the window resizes**, even though it **doesn't use the width**.

### The Fix: Swap the Hook for a Component

So, how do we stop this madness? **The simplest solution is to ditch the custom hook and move the logic into a dedicated component instead.** Hereâ€™s how:

```javascript

const WindowSizeComponent = () => {  
  const [width, setWidth] = useState(window.innerWidth);  
  
  useEffect(() => {  
    const handleResize = () => setWidth(window.innerWidth);  
    window.addEventListener("resize", handleResize);  
    return () => window.removeEventListener("resize", handleResize);  
  }, []);  
  
  return <p>Window width: {width}</p>;  
};  
  
const App = () => {  
  return (  
    <div>  
      <WindowSizeComponent />  
    </div>  
  );  
};
```
Now, the `width` state and the resize logic live inside `WindowSizeComponent`. When the window resizes, only `WindowSizeComponent` re-rendersâ€Šâ€”â€Š`App` component stays untouched. This keeps your app performant because React only updates the part of the UI that actually needs to change.

### When to Use Hooks vs. Components

Custom hooks are awesome when you need reusable logic that components _actually use_â€Šâ€”â€Šlike fetching data or managing form state. But **if the logic involves state updates that donâ€™t need to be shared or consumed elsewhere (like our window resize example), a component might be the better choice.** Itâ€™s all about keeping re-renders under control.

### Takeaway

React custom hooks are powerful, but they come with a dark side:

**State updates can trigger re-renders in unexpected places. If your hookâ€™s return value isnâ€™t being used, those updates might still haunt your appâ€™s performance.** Next time youâ€™re tempted to throw state into a custom hook â€œjust because,â€ pause and ask: _Would a component work better here?_ Your appâ€Šâ€”â€Šand your usersâ€Šâ€”â€Šwill thank you for it.

Want to support me? Consider buy me coffee â˜•ğŸ’™  
ğŸ‘‰ [buymeacoffee.com/amandeepkochhar](https://buymeacoffee.com/amandeepkochhar)