{
  "title": "Typesafe Routing with React-Router: Advanced TypeScript",
  "description": "Exploring the generatePath function from react-router-dom",
  "publishDate": "2024-08-25T00:00:00.000Z",
  "tags": [
    "React Router",
    "TypeScript",
    "Typesafe Routing",
    "Advanced Typescript"
  ],
  "draft": false,
  "body": {
    "raw": "\nimport Image from 'next/image';\n\n_TLDR; Use [generatePath](https://reactrouter.com/en/main/utils/generate-path) from `\"react-router-dom\"` to build URLs with type-safety. Link to [TypeScript Playground](https://www.typescriptlang.org/play/?#code/C4TwDgpgBACghsAFvATnAtgHnkqEAewEAdgCYDOU5wKAlsQOYB8UAvLAonoSRVAAYASAN70AZhBRQAMgF8A9CPGSoAJVn8AUFB1QA-BySoMmaSwA+h5HDRZVTbboBcV7kTKV+TpcQlTj6BqOuvoctsHOUMQQAG6SANyamqCQYRjk2JxuvJTUdIws7MJQANoA1hAgUPRWAZlITAC6ei559AxQsony8mnoGQBEcANQlgMARgOFUMVwLVQ07QA0UOPzbYydSWIArsQAxsC0APbEqzu0ADakOIjY2R4L+cwAFGCcLjAr77bk8wEZGBMACUrUWm2EERQEGAOxQZ3eSAAdNCwJc4PsIC95E4XiUAHoAHXkjQA1MD5AwVi8APorCogYFsFiQkIhWhiKBvGzpPRI8qVRpsVjsPakCBiegQUhM1ls+VIFDHADuUQgqoAoiglSgXvwALK0cjkdpQH4YGGSFwiBkaYGJeU6WQRELQ2Hws08-p8gVVOCUGCNB26WT2zTOzT7U7kY6XCBIy7HBgvcYXa63F4DeQ7ciScg4nOSACSpAGK2KhZQJZcAHIAIw1zrAsNR4gxuMJpMptM3TiZ7O5lD5pyVkvyMDHajDifUEtlmZQUekWsN76T4DVqA1gBMjdDLejsfjieTqauvaQ-crw6X8+KtGXW4bTftQA)_\n\nWe use URLs in our code 1) to define routes and 2) to redirect to them. If we only had URLs without any dynamic parameters, then we could, in-theory, just store them as constants.\n\nThe route definition (ex: `/users/:userId`) is not dynamic, and therefore can be stored as a\nconstant. When redirecting, we just need to build the URL from the definition by replacing the parameters with provided values, in a type-safe way. In short, we need to go from `/users/:userId` to `/users/1`, while TypeScript holds our hand.\n\n## Defining Constants\n\n```ts\n// src/constants.ts\nexport const Routes = {\n    USERS: \"/users\",\n    USER_DETAILS: \"/users/:userId\",\n} as const;\n\n// Utility type\nexport type Routes = (typeof Routes)[keyof typeof Routes]; // \"/users\" | \"/users/:userId\"\n```\n\n`Routes` will hold the route definitions, which we can directly use in the `<Route />` component. We will be using it later as types to our function's argument.\n\nNotice the use of `as const` here. The **constant assertion** is used to ensure that the object is inferred \"literally\". This means that the `type Routes` will be equal to `\"/users\" | \"/users/:userId\"` instead of `string`. <br /> <br />\nNext, we need the function that will help us go from `/users/:userId` to `/users/1`.\n\n## Introducing `buildPath`\n\nHere's what `buildPath` does:\n\n```ts\n// function buildPath(path, params?);\nconst url = buildPath(\"/users/:userId\", { userId: \"1\" }); // Ok -> url = \"/users/1\"\nconst url = buildPath(\"/users/:userId\", { id: \"1\" }); // TypeError: expected { userId: string }\nconst url = buildPath(\"/users\"); // Ok -> url = \"/users\"\n```\n\nIgnoring the type-safe aspect of this function, below is one way to implement it.\n\n```ts\nfunction buildPath(path: string, params?: Record<string, string>) {\n    return path.replace(/:([^\\/]+)/g, (_, key) => {\n        if (params[key] === undefined) {\n            throw new Error(`Missing parameter: ${key}`);\n        }\n        return params[key];\n    });\n}\n```\n\nIt looks for the `:<key>` pattern and replaces it with `params[key]` (if found). This function checks for missing parameters at runtime. But we can do _better_.\n\n## Sprinkling TypeScript Magic âœ¨\n\nThis is where we get to have fun. Essentially we need a type, that gives us the parameters as union of literals.\n\nTake a look at this - it's all we really need.\n\n```ts\ntype PathParam<Path extends string> = Path extends `${infer L}/${infer R}`\n    ? PathParam<L> | PathParam<R>\n    : Path extends `:${infer Param}`\n      ? Param\n      : never;\n```\n\n```ts\nPathParam<\"/a/:b\"> = \"b\";\nPathParam<\"/:a/:b\"> = \"a\" | \"b\";\nPathParam<\"/a\"> = never;\n```\n\nHere's a diagram of how the `PathParam` type works. The result is a union of all the leaf nodes\n\n<Image src=\"/assets/path-param-type-diagram.png\" alt=\"Diagram explaining working of PathParam type\" width={600} height={400} />\n\nWe are essentially performing a divide-and-conquer algorithm using pattern matching! <br />\nIn case you are not familiar with `never`, `extends` or `infer` keywords, check out [this guide](https://blog.logrocket.com/understanding-infer-typescript/#no-value-never-type) for a brief summary or [Matt Pocock](https://www.youtube.com/@mattpocockuk) for amazing videos covering advanced TypeScript concepts.\n\n## Almost There\n\nLet's use `PathParam` with `buildPath` to achieve what we set out to do.\n\n```ts\ntype Params<Path extends string> = { [key in PathParam<Path>]?: string };\n// Params<\"/:a/:b\"> = { a?: string, b?: string }\n\nfunction buildPath<P extends string>(path: P, params?: Params<P>): string {\n    return path.replace(/:([^\\/]+)/g, (_, key) => {\n        if (params[key] === undefined) {\n            throw new Error(`Missing parameter: ${key}`);\n        }\n        return params[key];\n    });\n}\n```\n\nThis works now! You can play with it on [TypeScript Playground](https://www.typescriptlang.org/play/?#code/C4TwDgpgBACghsAFvATnAtgHnkqEAewEAdgCYDOU5wKAlsQOYB8UAvLAonoSRVAAYASAN70AZhBRQAMgF8A9CPGSoAJVn8AUFB1QA-BySoMmaSwA+h5HDRZVTbboBcV7kTKV+TpcQlTj6BqOuvoctsHOUMQQAG6SANyamqCQYRjk2JxuvJTUdIws7MJQANoA1hAgUPRWAZlITAC6ei559AxQsony8mnoGQBEcANQlgMARgOFUMVwLVQ07QA0UOPzbYydSWIArsQAxsC0APbEqzu0ADakOIjY2R4L+cwAFGCcLjAr77bk8wEZGBMACUrUWm2EERQEGAOxQZ3eSAAdNCwJc4PsIC95E4XiUAHoAHXkjQA1MD5AwVi8APorCogYFsFiQkIhWhiKBvGzpPRI8qVRpsVjsPakCBiegQUhM1ls+VIFDHADuUQgqoAoiglSgXvwALK0cjkdpQH4YGGSFwiBkaYGJeU6WQRELQ2Hws08-p8gVVOCUGCNB26WT2zTOzT7U7kY6XCBIy7HBgvcYXa63F4DeQ7ciScg4nOSACSpAGK2KhZQJZcAHIAIw1zrAsNR4gxuMJpMptM3TiZ7O5lD5pyVkvyMDHajDifUEtlmZQUekWsN76T4DVqA1gBMjdDLejsfjieTqauvaQ-crw6X8+KtGXW4bTftQA)\n\n```ts\nconst url = buildPath(\"/users/:id/:name\", { id: \"1\", name: \"amandeep\" }); // Ok -> url = \"/users/1/amandeep\"\nconst url = buildPath(\"/users/:userId\", { id: \"1\" }); // TypeError: expected { userId: string }\n```\n\nThis function is already good enough to be used as-is. Up until now whatever we did is **framework agnostic**. The\nfollowing part is totally optional and is just one way of using this concept with React-Router.\n\n## Enter `\"react-router-dom\"`\n\nSo here's the good news: all the hardwork we did above is already done by the [`generatePath`](https://reactrouter.com/en/main/utils/generate-path) function from `\"react-router-dom\"`. Let's use it instead of our suboptimal implementation. We will also narrow the type of `path` argument from `string` to `Routes` (the constant we defined earlier)\n\n```ts\nimport { type Routes } from \"./constants\";\nimport { generatePath } from \"react-router-dom\";\n\nfunction buildPath<P extends Routes>(...args: Parameters<typeof generatePath<P>>): string {\n    return generatePath(...args);\n}\n```\n\nNote: `Parameters` is a utility class in TypeScript that allows us to get the typeof parameters of a function in form of a tuple.\n\nWe can also do something similar and create a wrapper on the `<Route />` component which only accepts paths from `Routes` constant. However, I'm not a fan of adding JS code only for type-safety, so I'll be skipping that part. In the case of `buildPath` it is justified as I also don't like to use utility functions directly from the library and prefer thin wrappers.\n\n## Conclusion\n\nWe now have a type-safe way of building paths to navigate to pages which are known to our application. TypeScript is amazing.\n\n```tsx\nimport { useNavigate } from \"react-router-dom\";\nimport { buildPath } from \"./utils\";\n\nexport const SomePage = () => {\n    const { navigate } = useNavigate();\n\n    function redirect() {\n        navigate(buildPath(Routes.USER_DETAILS, { userId: \"1\" }));\n    }\n\n    return <button onClick={redirect}>Navigate to User Details</button>;\n};\n```\n\nWe can always improve it by adding support for queryParamets, support for numeric parameters and so on, but the general concept remain the same. Hope you enjoyed!",
    "code": "var Component=(()=>{var tn=Object.create;var Oe=Object.defineProperty;var nn=Object.getOwnPropertyDescriptor;var rn=Object.getOwnPropertyNames;var on=Object.getPrototypeOf,sn=Object.prototype.hasOwnProperty;var Q=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),an=(n,e)=>{for(var r in e)Oe(n,r,{get:e[r],enumerable:!0})},ot=(n,e,r,u)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let d of rn(e))!sn.call(n,d)&&d!==r&&Oe(n,d,{get:()=>e[d],enumerable:!(u=nn(e,d))||u.enumerable});return n};var st=(n,e,r)=>(r=n!=null?tn(on(n)):{},ot(e||!n||!n.__esModule?Oe(r,\"default\",{value:n,enumerable:!0}):r,n)),ln=n=>ot(Oe({},\"__esModule\",{value:!0}),n);var xe=Q((wr,at)=>{at.exports=_jsx_runtime});var Re=Q(lt=>{\"use strict\";function cn(n){return n&&n.__esModule?n:{default:n}}lt._=cn});var Se=Q(Te=>{\"use strict\";Object.defineProperty(Te,\"__esModule\",{value:!0});Object.defineProperty(Te,\"warnOnce\",{enumerable:!0,get:function(){return it}});var it=n=>{};{let n=new Set;it=e=>{n.has(e)||console.warn(e),n.add(e)}}});var ct=Q(Be=>{\"use strict\";Object.defineProperty(Be,\"__esModule\",{value:!0});Object.defineProperty(Be,\"getImageBlurSvg\",{enumerable:!0,get:function(){return un}});function un(n){let{widthInt:e,heightInt:r,blurWidth:u,blurHeight:d,blurDataURL:h,objectFit:g}=n,m=20,w=u?u*40:e,b=d?d*40:r,O=w&&b?\"viewBox='0 0 \"+w+\" \"+b+\"'\":\"\",y=O?\"none\":g===\"contain\"?\"xMidYMid\":g===\"cover\"?\"xMidYMid slice\":\"none\";return\"%3Csvg xmlns='http://www.w3.org/2000/svg' \"+O+\"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='\"+m+\"'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='\"+m+\"'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='\"+y+\"' style='filter: url(%23b);' href='\"+h+\"'/%3E%3C/svg%3E\"}});var Pe=Q(ke=>{\"use strict\";Object.defineProperty(ke,\"__esModule\",{value:!0});function dn(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}dn(ke,{VALID_LOADERS:function(){return pn},imageConfigDefault:function(){return hn}});var pn=[\"default\",\"imgix\",\"cloudinary\",\"akamai\",\"custom\"],hn={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\",loaderFile:\"\",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:[\"image/webp\"],dangerouslyAllowSVG:!1,contentSecurityPolicy:\"script-src 'none'; frame-src 'none'; sandbox;\",contentDispositionType:\"attachment\",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}});var Me=Q(Ne=>{\"use strict\";Object.defineProperty(Ne,\"__esModule\",{value:!0});Object.defineProperty(Ne,\"getImgProps\",{enumerable:!0,get:function(){return Rn}});var Ae=Se(),fn=ct(),yn=Pe(),ut=[\"lazy\",\"eager\",void 0],En=[\"-moz-initial\",\"fill\",\"none\",\"scale-down\",void 0];function pt(n){return n.default!==void 0}function gn(n){return n.src!==void 0}function mn(n){return!!n&&typeof n==\"object\"&&(pt(n)||gn(n))}var dt=new Map,De;function Le(n){return typeof n>\"u\"?n:typeof n==\"number\"?Number.isFinite(n)?n:NaN:typeof n==\"string\"&&/^[0-9]+$/.test(n)?parseInt(n,10):NaN}function _n(n,e,r){let{deviceSizes:u,allSizes:d}=n;if(r){let g=/(^|\\s)(1?\\d?\\d)vw/g,m=[];for(let w;w=g.exec(r);w)m.push(parseInt(w[2]));if(m.length){let w=Math.min(...m)*.01;return{widths:d.filter(b=>b>=u[0]*w),kind:\"w\"}}return{widths:d,kind:\"w\"}}return typeof e!=\"number\"?{widths:u,kind:\"w\"}:{widths:[...new Set([e,e*2].map(g=>d.find(m=>m>=g)||d[d.length-1]))],kind:\"x\"}}function bn(n){let{config:e,src:r,unoptimized:u,width:d,quality:h,sizes:g,loader:m}=n;if(u)return{src:r,srcSet:void 0,sizes:void 0};let{widths:w,kind:b}=_n(e,d,g),O=w.length-1;return{sizes:!g&&b===\"w\"?\"100vw\":g,srcSet:w.map((y,_)=>m({config:e,src:r,quality:h,width:y})+\" \"+(b===\"w\"?y:_+1)+b).join(\", \"),src:m({config:e,src:r,quality:h,width:w[O]})}}function Rn(n,e){let{src:r,sizes:u,unoptimized:d=!1,priority:h=!1,loading:g,className:m,quality:w,width:b,height:O,fill:y=!1,style:_,overrideSrc:i,onLoad:R,onLoadingComplete:A,placeholder:F=\"empty\",blurDataURL:p,fetchPriority:k,decoding:l=\"async\",layout:I,objectFit:S,objectPosition:M,lazyBoundary:L,lazyRoot:G,...B}=n,{imgConf:N,showAltText:re,blurComplete:H,defaultLoader:ce}=e,q,K=N||yn.imageConfigDefault;if(\"allSizes\"in K)q=K;else{var X;let v=[...K.deviceSizes,...K.imageSizes].sort((U,z)=>U-z),f=K.deviceSizes.sort((U,z)=>U-z),x=(X=K.qualities)==null?void 0:X.sort((U,z)=>U-z);q={...K,allSizes:v,deviceSizes:f,qualities:x}}if(typeof ce>\"u\")throw Object.defineProperty(new Error(`images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config`),\"__NEXT_ERROR_CODE\",{value:\"E163\",enumerable:!1,configurable:!0});let ue=B.loader||ce;delete B.loader,delete B.srcSet;let Z=\"__next_img_default\"in ue;if(Z){if(q.loader===\"custom\")throw Object.defineProperty(new Error('Image with src \"'+r+`\" is missing \"loader\" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader`),\"__NEXT_ERROR_CODE\",{value:\"E252\",enumerable:!1,configurable:!0})}else{let v=ue;ue=f=>{let{config:x,...U}=f;return v(U)}}if(I){I===\"fill\"&&(y=!0);let v={intrinsic:{maxWidth:\"100%\",height:\"auto\"},responsive:{width:\"100%\",height:\"auto\"}},f={responsive:\"100vw\",fill:\"100vw\"},x=v[I];x&&(_={..._,...x});let U=f[I];U&&!u&&(u=U)}let D=\"\",T=Le(b),V=Le(O),ye,ne;if(mn(r)){let v=pt(r)?r.default:r;if(!v.src)throw Object.defineProperty(new Error(\"An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received \"+JSON.stringify(v)),\"__NEXT_ERROR_CODE\",{value:\"E460\",enumerable:!1,configurable:!0});if(!v.height||!v.width)throw Object.defineProperty(new Error(\"An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received \"+JSON.stringify(v)),\"__NEXT_ERROR_CODE\",{value:\"E48\",enumerable:!1,configurable:!0});if(ye=v.blurWidth,ne=v.blurHeight,p=p||v.blurDataURL,D=v.src,!y){if(!T&&!V)T=v.width,V=v.height;else if(T&&!V){let f=T/v.width;V=Math.round(v.height*f)}else if(!T&&V){let f=V/v.height;T=Math.round(v.width*f)}}}r=typeof r==\"string\"?r:D;let j=!h&&(g===\"lazy\"||typeof g>\"u\");(!r||r.startsWith(\"data:\")||r.startsWith(\"blob:\"))&&(d=!0,j=!1),q.unoptimized&&(d=!0),Z&&!q.dangerouslyAllowSVG&&r.split(\"?\",1)[0].endsWith(\".svg\")&&(d=!0);let fe=Le(w);if(q.output===\"export\"&&Z&&!d)throw Object.defineProperty(new Error(\"Image Optimization using the default loader is not compatible with `{ output: 'export' }`.\\n  Possible solutions:\\n    - Remove `{ output: 'export' }` and run \\\"next start\\\" to run server mode including the Image Optimization API.\\n    - Configure `{ images: { unoptimized: true } }` in `next.config.js` to disable the Image Optimization API.\\n  Read more: https://nextjs.org/docs/messages/export-image-api\"),\"__NEXT_ERROR_CODE\",{value:\"E500\",enumerable:!1,configurable:!0});if(!r)d=!0;else if(y){if(b)throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"width\" and \"fill\" properties. Only one should be used.'),\"__NEXT_ERROR_CODE\",{value:\"E96\",enumerable:!1,configurable:!0});if(O)throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"height\" and \"fill\" properties. Only one should be used.'),\"__NEXT_ERROR_CODE\",{value:\"E115\",enumerable:!1,configurable:!0});if(_?.position&&_.position!==\"absolute\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"fill\" and \"style.position\" properties. Images with \"fill\" always use position absolute - it cannot be modified.'),\"__NEXT_ERROR_CODE\",{value:\"E216\",enumerable:!1,configurable:!0});if(_?.width&&_.width!==\"100%\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"fill\" and \"style.width\" properties. Images with \"fill\" always use width 100% - it cannot be modified.'),\"__NEXT_ERROR_CODE\",{value:\"E73\",enumerable:!1,configurable:!0});if(_?.height&&_.height!==\"100%\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"fill\" and \"style.height\" properties. Images with \"fill\" always use height 100% - it cannot be modified.'),\"__NEXT_ERROR_CODE\",{value:\"E404\",enumerable:!1,configurable:!0})}else{if(typeof T>\"u\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" is missing required \"width\" property.'),\"__NEXT_ERROR_CODE\",{value:\"E451\",enumerable:!1,configurable:!0});if(isNaN(T))throw Object.defineProperty(new Error('Image with src \"'+r+'\" has invalid \"width\" property. Expected a numeric value in pixels but received \"'+b+'\".'),\"__NEXT_ERROR_CODE\",{value:\"E66\",enumerable:!1,configurable:!0});if(typeof V>\"u\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" is missing required \"height\" property.'),\"__NEXT_ERROR_CODE\",{value:\"E397\",enumerable:!1,configurable:!0});if(isNaN(V))throw Object.defineProperty(new Error('Image with src \"'+r+'\" has invalid \"height\" property. Expected a numeric value in pixels but received \"'+O+'\".'),\"__NEXT_ERROR_CODE\",{value:\"E444\",enumerable:!1,configurable:!0});if(/^[\\x00-\\x20]/.test(r))throw Object.defineProperty(new Error('Image with src \"'+r+'\" cannot start with a space or control character. Use src.trimStart() to remove it or encodeURIComponent(src) to keep it.'),\"__NEXT_ERROR_CODE\",{value:\"E176\",enumerable:!1,configurable:!0});if(/[\\x00-\\x20]$/.test(r))throw Object.defineProperty(new Error('Image with src \"'+r+'\" cannot end with a space or control character. Use src.trimEnd() to remove it or encodeURIComponent(src) to keep it.'),\"__NEXT_ERROR_CODE\",{value:\"E21\",enumerable:!1,configurable:!0})}if(!ut.includes(g))throw Object.defineProperty(new Error('Image with src \"'+r+'\" has invalid \"loading\" property. Provided \"'+g+'\" should be one of '+ut.map(String).join(\",\")+\".\"),\"__NEXT_ERROR_CODE\",{value:\"E357\",enumerable:!1,configurable:!0});if(h&&g===\"lazy\")throw Object.defineProperty(new Error('Image with src \"'+r+`\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`),\"__NEXT_ERROR_CODE\",{value:\"E218\",enumerable:!1,configurable:!0});if(F!==\"empty\"&&F!==\"blur\"&&!F.startsWith(\"data:image/\"))throw Object.defineProperty(new Error('Image with src \"'+r+'\" has invalid \"placeholder\" property \"'+F+'\".'),\"__NEXT_ERROR_CODE\",{value:\"E431\",enumerable:!1,configurable:!0});if(F!==\"empty\"&&T&&V&&T*V<1600&&(0,Ae.warnOnce)('Image with src \"'+r+'\" is smaller than 40x40. Consider removing the \"placeholder\" property to improve performance.'),F===\"blur\"&&!p){let v=[\"jpeg\",\"png\",\"webp\",\"avif\"];throw Object.defineProperty(new Error('Image with src \"'+r+`\" has \"placeholder='blur'\" property but is missing the \"blurDataURL\" property.\n        Possible solutions:\n          - Add a \"blurDataURL\" property, the contents should be a small Data URL to represent the image\n          - Change the \"src\" property to a static import with one of the supported file types: `+v.join(\",\")+` (animated images not supported)\n          - Remove the \"placeholder\" property, effectively no blur effect\n        Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url`),\"__NEXT_ERROR_CODE\",{value:\"E371\",enumerable:!1,configurable:!0})}if(\"ref\"in B&&(0,Ae.warnOnce)('Image with src \"'+r+'\" is using unsupported \"ref\" property. Consider using the \"onLoad\" property instead.'),!d&&!Z){let v=ue({config:q,src:r,width:T||400,quality:fe||75}),f;try{f=new URL(v)}catch{}(v===r||f&&f.pathname===r&&!f.search)&&(0,Ae.warnOnce)('Image with src \"'+r+`\" has a \"loader\" property that does not implement width. Please implement it or use the \"unoptimized\" property instead.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader-width`)}A&&(0,Ae.warnOnce)('Image with src \"'+r+'\" is using deprecated \"onLoadingComplete\" property. Please use the \"onLoad\" property instead.');for(let[v,f]of Object.entries({layout:I,objectFit:S,objectPosition:M,lazyBoundary:L,lazyRoot:G}))f&&(0,Ae.warnOnce)('Image with src \"'+r+'\" has legacy prop \"'+v+`\". Did you forget to run the codemod?\nRead more: https://nextjs.org/docs/messages/next-image-upgrade-to-13`);if(typeof window<\"u\"&&!De&&window.PerformanceObserver){De=new PerformanceObserver(v=>{for(let x of v.getEntries()){var f;let U=(x==null||(f=x.element)==null?void 0:f.src)||\"\",z=dt.get(U);z&&!z.priority&&z.placeholder===\"empty\"&&!z.src.startsWith(\"data:\")&&!z.src.startsWith(\"blob:\")&&(0,Ae.warnOnce)('Image with src \"'+z.src+`\" was detected as the Largest Contentful Paint (LCP). Please add the \"priority\" property if this image is above the fold.\nRead more: https://nextjs.org/docs/api-reference/next/image#priority`)}});try{De.observe({type:\"largest-contentful-paint\",buffered:!0})}catch(v){console.error(v)}}let Y=Object.assign(y?{position:\"absolute\",height:\"100%\",width:\"100%\",left:0,top:0,right:0,bottom:0,objectFit:S,objectPosition:M}:{},re?{}:{color:\"transparent\"},_),a=!H&&F!==\"empty\"?F===\"blur\"?'url(\"data:image/svg+xml;charset=utf-8,'+(0,fn.getImageBlurSvg)({widthInt:T,heightInt:V,blurWidth:ye,blurHeight:ne,blurDataURL:p||\"\",objectFit:Y.objectFit})+'\")':'url(\"'+F+'\")':null,J=En.includes(Y.objectFit)?Y.objectFit===\"fill\"?\"100% 100%\":\"cover\":Y.objectFit,ae=a?{backgroundSize:J,backgroundPosition:Y.objectPosition||\"50% 50%\",backgroundRepeat:\"no-repeat\",backgroundImage:a}:{};ae.backgroundImage&&F===\"blur\"&&p?.startsWith(\"/\")&&(ae.backgroundImage='url(\"'+p+'\")');let pe=bn({config:q,src:r,unoptimized:d,width:T,quality:fe,sizes:u,loader:ue});if(typeof window<\"u\"){let v;try{v=new URL(pe.src)}catch{v=new URL(pe.src,window.location.href)}dt.set(v.href,{src:r,priority:h,placeholder:F})}return{props:{...B,loading:j?\"lazy\":g,fetchPriority:k,width:T,height:V,decoding:l,className:m,style:{...Y,...ae},sizes:pe.sizes,srcSet:pe.srcSet,src:i||pe.src},meta:{unoptimized:d,priority:h,placeholder:F,fill:y}}}});var He=Q(ft=>{\"use strict\";function ht(n){if(typeof WeakMap!=\"function\")return null;var e=new WeakMap,r=new WeakMap;return(ht=function(u){return u?r:e})(n)}function wn(n,e){if(!e&&n&&n.__esModule)return n;if(n===null||typeof n!=\"object\"&&typeof n!=\"function\")return{default:n};var r=ht(e);if(r&&r.has(n))return r.get(n);var u={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!==\"default\"&&Object.prototype.hasOwnProperty.call(n,h)){var g=d?Object.getOwnPropertyDescriptor(n,h):null;g&&(g.get||g.set)?Object.defineProperty(u,h,g):u[h]=n[h]}return u.default=n,r&&r.set(n,u),u}ft._=wn});var _e=Q((Sr,yt)=>{yt.exports=React});var gt=Q((Pr,Et)=>{Et.exports=ReactDOM});var _t=Q(qe=>{\"use strict\";Object.defineProperty(qe,\"__esModule\",{value:!0});Object.defineProperty(qe,\"default\",{enumerable:!0,get:function(){return vn}});var $e=_e(),je=typeof window>\"u\",mt=je?()=>{}:$e.useLayoutEffect,An=je?()=>{}:$e.useEffect;function vn(n){let{headManager:e,reduceComponentsToState:r}=n;function u(){if(e&&e.mountedInstances){let h=$e.Children.toArray(Array.from(e.mountedInstances).filter(Boolean));e.updateHead(r(h,n))}}if(je){var d;e==null||(d=e.mountedInstances)==null||d.add(n.children),u()}return mt(()=>{var h;return e==null||(h=e.mountedInstances)==null||h.add(n.children),()=>{var g;e==null||(g=e.mountedInstances)==null||g.delete(n.children)}}),mt(()=>(e&&(e._pendingUpdate=u),()=>{e&&(e._pendingUpdate=u)})),An(()=>(e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null),()=>{e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null)})),null}});var Rt=Q(Ue=>{\"use strict\";Object.defineProperty(Ue,\"__esModule\",{value:!0});Object.defineProperty(Ue,\"AmpStateContext\",{enumerable:!0,get:function(){return bt}});var Fn=Re(),Cn=Fn._(_e()),bt=Cn.default.createContext({});bt.displayName=\"AmpStateContext\"});var At=Q(Ge=>{\"use strict\";Object.defineProperty(Ge,\"__esModule\",{value:!0});Object.defineProperty(Ge,\"HeadManagerContext\",{enumerable:!0,get:function(){return wt}});var On=Re(),xn=On._(_e()),wt=xn.default.createContext({});wt.displayName=\"HeadManagerContext\"});var vt=Q(ze=>{\"use strict\";Object.defineProperty(ze,\"__esModule\",{value:!0});Object.defineProperty(ze,\"isInAmpMode\",{enumerable:!0,get:function(){return Sn}});function Sn(n){let{ampFirst:e=!1,hybrid:r=!1,hasQuery:u=!1}=n===void 0?{}:n;return e||r&&u}});var St=Q((Ee,xt)=>{\"use client\";\"use strict\";Object.defineProperty(Ee,\"__esModule\",{value:!0});function Pn(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}Pn(Ee,{default:function(){return jn},defaultHead:function(){return Ot}});var In=Re(),Tn=He(),Qe=xe(),ve=Tn._(_e()),Bn=In._(_t()),kn=Rt(),Dn=At(),Ln=vt(),Ft=Se();function Ot(n){n===void 0&&(n=!1);let e=[(0,Qe.jsx)(\"meta\",{charSet:\"utf-8\"},\"charset\")];return n||e.push((0,Qe.jsx)(\"meta\",{name:\"viewport\",content:\"width=device-width\"},\"viewport\")),e}function Nn(n,e){return typeof e==\"string\"||typeof e==\"number\"?n:e.type===ve.default.Fragment?n.concat(ve.default.Children.toArray(e.props.children).reduce((r,u)=>typeof u==\"string\"||typeof u==\"number\"?r:r.concat(u),[])):n.concat(e)}var Ct=[\"name\",\"httpEquiv\",\"charSet\",\"itemProp\"];function Mn(){let n=new Set,e=new Set,r=new Set,u={};return d=>{let h=!0,g=!1;if(d.key&&typeof d.key!=\"number\"&&d.key.indexOf(\"$\")>0){g=!0;let m=d.key.slice(d.key.indexOf(\"$\")+1);n.has(m)?h=!1:n.add(m)}switch(d.type){case\"title\":case\"base\":e.has(d.type)?h=!1:e.add(d.type);break;case\"meta\":for(let m=0,w=Ct.length;m<w;m++){let b=Ct[m];if(d.props.hasOwnProperty(b))if(b===\"charSet\")r.has(b)?h=!1:r.add(b);else{let O=d.props[b],y=u[b]||new Set;(b!==\"name\"||!g)&&y.has(O)?h=!1:(y.add(O),u[b]=y)}}break}return h}}function Hn(n,e){let{inAmpMode:r}=e;return n.reduce(Nn,[]).reverse().concat(Ot(r).reverse()).filter(Mn()).reverse().map((u,d)=>{let h=u.key||d;if(u.type===\"script\"&&u.props.type!==\"application/ld+json\"){let g=u.props.src?'<script> tag with src=\"'+u.props.src+'\"':\"inline <script>\";(0,Ft.warnOnce)(\"Do not add <script> tags using next/head (see \"+g+`). Use next/script instead. \nSee more info here: https://nextjs.org/docs/messages/no-script-tags-in-head-component`)}else u.type===\"link\"&&u.props.rel===\"stylesheet\"&&(0,Ft.warnOnce)('Do not add stylesheets using next/head (see <link rel=\"stylesheet\"> tag with href=\"'+u.props.href+`\"). Use Document instead. \nSee more info here: https://nextjs.org/docs/messages/no-stylesheets-in-head-component`);return ve.default.cloneElement(u,{key:h})})}function $n(n){let{children:e}=n,r=(0,ve.useContext)(kn.AmpStateContext),u=(0,ve.useContext)(Dn.HeadManagerContext);return(0,Qe.jsx)(Bn.default,{reduceComponentsToState:Hn,headManager:u,inAmpMode:(0,Ln.isInAmpMode)(r),children:e})}var jn=$n;(typeof Ee.default==\"function\"||typeof Ee.default==\"object\"&&Ee.default!==null)&&typeof Ee.default.__esModule>\"u\"&&(Object.defineProperty(Ee.default,\"__esModule\",{value:!0}),Object.assign(Ee.default,Ee),xt.exports=Ee.default)});var It=Q(Xe=>{\"use strict\";Object.defineProperty(Xe,\"__esModule\",{value:!0});Object.defineProperty(Xe,\"ImageConfigContext\",{enumerable:!0,get:function(){return Pt}});var qn=Re(),Un=qn._(_e()),Gn=Pe(),Pt=Un.default.createContext(Gn.imageConfigDefault);Pt.displayName=\"ImageConfigContext\"});var Bt=Q(Ve=>{\"use strict\";Object.defineProperty(Ve,\"__esModule\",{value:!0});Object.defineProperty(Ve,\"RouterContext\",{enumerable:!0,get:function(){return Tt}});var zn=Re(),Qn=zn._(_e()),Tt=Qn.default.createContext(null);Tt.displayName=\"RouterContext\"});var We=Q((Nr,kt)=>{(()=>{\"use strict\";var n={170:(d,h,g)=>{let m=g(510),w=()=>{if(typeof navigator<\"u\"&&navigator.platform){let O=navigator.platform.toLowerCase();return O===\"win32\"||O===\"windows\"}return typeof process<\"u\"&&process.platform?process.platform===\"win32\":!1};function b(O,y,_=!1){return y&&(y.windows===null||y.windows===void 0)&&(y={...y,windows:w()}),m(O,y,_)}Object.assign(b,m),d.exports=b},154:d=>{let h=\"\\\\\\\\/\",g=`[^${h}]`,m=\"\\\\.\",w=\"\\\\+\",b=\"\\\\?\",O=\"\\\\/\",y=\"(?=.)\",_=\"[^/]\",i=`(?:${O}|$)`,R=`(?:^|${O})`,A=`${m}{1,2}${i}`,F=`(?!${m})`,p=`(?!${R}${A})`,k=`(?!${m}{0,1}${i})`,l=`(?!${A})`,I=`[^.${O}]`,S=`${_}*?`,L={DOT_LITERAL:m,PLUS_LITERAL:w,QMARK_LITERAL:b,SLASH_LITERAL:O,ONE_CHAR:y,QMARK:_,END_ANCHOR:i,DOTS_SLASH:A,NO_DOT:F,NO_DOTS:p,NO_DOT_SLASH:k,NO_DOTS_SLASH:l,QMARK_NO_DOT:I,STAR:S,START_ANCHOR:R,SEP:\"/\"},G={...L,SLASH_LITERAL:`[${h}]`,QMARK:g,STAR:`${g}*?`,DOTS_SLASH:`${m}{1,2}(?:[${h}]|$)`,NO_DOT:`(?!${m})`,NO_DOTS:`(?!(?:^|[${h}])${m}{1,2}(?:[${h}]|$))`,NO_DOT_SLASH:`(?!${m}{0,1}(?:[${h}]|$))`,NO_DOTS_SLASH:`(?!${m}{1,2}(?:[${h}]|$))`,QMARK_NO_DOT:`[^.${h}]`,START_ANCHOR:`(?:^|[${h}])`,END_ANCHOR:`(?:[${h}]|$)`,SEP:\"\\\\\"},B={alnum:\"a-zA-Z0-9\",alpha:\"a-zA-Z\",ascii:\"\\\\x00-\\\\x7F\",blank:\" \\\\t\",cntrl:\"\\\\x00-\\\\x1F\\\\x7F\",digit:\"0-9\",graph:\"\\\\x21-\\\\x7E\",lower:\"a-z\",print:\"\\\\x20-\\\\x7E \",punct:\"\\\\-!\\\"#$%&'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~\",space:\" \\\\t\\\\r\\\\n\\\\v\\\\f\",upper:\"A-Z\",word:\"A-Za-z0-9_\",xdigit:\"A-Fa-f0-9\"};d.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:B,REGEX_BACKSLASH:/\\\\(?![*+?^${}(|)[\\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\\].,$*+?^{}()|\\\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\\\?)((\\W)(\\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,REPLACEMENTS:{\"***\":\"*\",\"**/**\":\"**\",\"**/**/**\":\"**\"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars(N){return{\"!\":{type:\"negate\",open:\"(?:(?!(?:\",close:`))${N.STAR})`},\"?\":{type:\"qmark\",open:\"(?:\",close:\")?\"},\"+\":{type:\"plus\",open:\"(?:\",close:\")+\"},\"*\":{type:\"star\",open:\"(?:\",close:\")*\"},\"@\":{type:\"at\",open:\"(?:\",close:\")\"}}},globChars(N){return N===!0?G:L}}},697:(d,h,g)=>{let m=g(154),w=g(96),{MAX_LENGTH:b,POSIX_REGEX_SOURCE:O,REGEX_NON_SPECIAL_CHARS:y,REGEX_SPECIAL_CHARS_BACKREF:_,REPLACEMENTS:i}=m,R=(p,k)=>{if(typeof k.expandRange==\"function\")return k.expandRange(...p,k);p.sort();let l=`[${p.join(\"-\")}]`;try{new RegExp(l)}catch{return p.map(S=>w.escapeRegex(S)).join(\"..\")}return l},A=(p,k)=>`Missing ${p}: \"${k}\" - use \"\\\\\\\\${k}\" to match literal characters`,F=(p,k)=>{if(typeof p!=\"string\")throw new TypeError(\"Expected a string\");p=i[p]||p;let l={...k},I=typeof l.maxLength==\"number\"?Math.min(b,l.maxLength):b,S=p.length;if(S>I)throw new SyntaxError(`Input length: ${S}, exceeds maximum allowed length: ${I}`);let M={type:\"bos\",value:\"\",output:l.prepend||\"\"},L=[M],G=l.capture?\"\":\"?:\",B=m.globChars(l.windows),N=m.extglobChars(B),{DOT_LITERAL:re,PLUS_LITERAL:H,SLASH_LITERAL:ce,ONE_CHAR:q,DOTS_SLASH:K,NO_DOT:X,NO_DOT_SLASH:ue,NO_DOTS_SLASH:Z,QMARK:D,QMARK_NO_DOT:T,STAR:V,START_ANCHOR:ye}=B,ne=E=>`(${G}(?:(?!${ye}${E.dot?K:re}).)*?)`,j=l.dot?\"\":X,fe=l.dot?D:T,Y=l.bash===!0?ne(l):V;l.capture&&(Y=`(${Y})`),typeof l.noext==\"boolean\"&&(l.noextglob=l.noext);let a={input:p,index:-1,start:0,dot:l.dot===!0,consumed:\"\",output:\"\",prefix:\"\",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:L};p=w.removePrefix(p,a),S=p.length;let J=[],ae=[],pe=[],o=M,s,v=()=>a.index===S-1,f=a.peek=(E=1)=>p[a.index+E],x=a.advance=()=>p[++a.index]||\"\",U=()=>p.slice(a.index+1),z=(E=\"\",$=0)=>{a.consumed+=E,a.index+=$},oe=E=>{a.output+=E.output!=null?E.output:E.value,z(E.value)},te=()=>{let E=1;for(;f()===\"!\"&&(f(2)!==\"(\"||f(3)===\"?\");)x(),a.start++,E++;return E%2===0?!1:(a.negated=!0,a.start++,!0)},be=E=>{a[E]++,pe.push(E)},de=E=>{a[E]--,pe.pop()},C=E=>{if(o.type===\"globstar\"){let $=a.braces>0&&(E.type===\"comma\"||E.type===\"brace\"),c=E.extglob===!0||J.length&&(E.type===\"pipe\"||E.type===\"paren\");E.type!==\"slash\"&&E.type!==\"paren\"&&!$&&!c&&(a.output=a.output.slice(0,-o.output.length),o.type=\"star\",o.value=\"*\",o.output=Y,a.output+=o.output)}if(J.length&&E.type!==\"paren\"&&(J[J.length-1].inner+=E.value),(E.value||E.output)&&oe(E),o&&o.type===\"text\"&&E.type===\"text\"){o.output=(o.output||o.value)+E.value,o.value+=E.value;return}E.prev=o,L.push(E),o=E},le=(E,$)=>{let c={...N[$],conditions:1,inner:\"\"};c.prev=o,c.parens=a.parens,c.output=a.output;let P=(l.capture?\"(\":\"\")+c.open;be(\"parens\"),C({type:E,value:$,output:a.output?\"\":q}),C({type:\"paren\",extglob:!0,value:x(),output:P}),J.push(c)},se=E=>{let $=E.close+(l.capture?\")\":\"\"),c;if(E.type===\"negate\"){let P=Y;if(E.inner&&E.inner.length>1&&E.inner.includes(\"/\")&&(P=ne(l)),(P!==Y||v()||/^\\)+$/.test(U()))&&($=E.close=`)$))${P}`),E.inner.includes(\"*\")&&(c=U())&&/^\\.[^\\\\/.]+$/.test(c)){let W=F(c,{...k,fastpaths:!1}).output;$=E.close=`)${W})${P})`}E.prev.type===\"bos\"&&(a.negatedExtglob=!0)}C({type:\"paren\",extglob:!0,value:s,output:$}),de(\"parens\")};if(l.fastpaths!==!1&&!/(^[*!]|[/()[\\]{}\"])/.test(p)){let E=!1,$=p.replace(_,(c,P,W,ie,ee,Ie)=>ie===\"\\\\\"?(E=!0,c):ie===\"?\"?P?P+ie+(ee?D.repeat(ee.length):\"\"):Ie===0?fe+(ee?D.repeat(ee.length):\"\"):D.repeat(W.length):ie===\".\"?re.repeat(W.length):ie===\"*\"?P?P+ie+(ee?Y:\"\"):Y:P?c:`\\\\${c}`);return E===!0&&(l.unescape===!0?$=$.replace(/\\\\/g,\"\"):$=$.replace(/\\\\+/g,c=>c.length%2===0?\"\\\\\\\\\":c?\"\\\\\":\"\")),$===p&&l.contains===!0?(a.output=p,a):(a.output=w.wrapOutput($,a,k),a)}for(;!v();){if(s=x(),s===\"\\0\")continue;if(s===\"\\\\\"){let c=f();if(c===\"/\"&&l.bash!==!0||c===\".\"||c===\";\")continue;if(!c){s+=\"\\\\\",C({type:\"text\",value:s});continue}let P=/^\\\\+/.exec(U()),W=0;if(P&&P[0].length>2&&(W=P[0].length,a.index+=W,W%2!==0&&(s+=\"\\\\\")),l.unescape===!0?s=x():s+=x(),a.brackets===0){C({type:\"text\",value:s});continue}}if(a.brackets>0&&(s!==\"]\"||o.value===\"[\"||o.value===\"[^\")){if(l.posix!==!1&&s===\":\"){let c=o.value.slice(1);if(c.includes(\"[\")&&(o.posix=!0,c.includes(\":\"))){let P=o.value.lastIndexOf(\"[\"),W=o.value.slice(0,P),ie=o.value.slice(P+2),ee=O[ie];if(ee){o.value=W+ee,a.backtrack=!0,x(),!M.output&&L.indexOf(o)===1&&(M.output=q);continue}}}(s===\"[\"&&f()!==\":\"||s===\"-\"&&f()===\"]\")&&(s=`\\\\${s}`),s===\"]\"&&(o.value===\"[\"||o.value===\"[^\")&&(s=`\\\\${s}`),l.posix===!0&&s===\"!\"&&o.value===\"[\"&&(s=\"^\"),o.value+=s,oe({value:s});continue}if(a.quotes===1&&s!=='\"'){s=w.escapeRegex(s),o.value+=s,oe({value:s});continue}if(s==='\"'){a.quotes=a.quotes===1?0:1,l.keepQuotes===!0&&C({type:\"text\",value:s});continue}if(s===\"(\"){be(\"parens\"),C({type:\"paren\",value:s});continue}if(s===\")\"){if(a.parens===0&&l.strictBrackets===!0)throw new SyntaxError(A(\"opening\",\"(\"));let c=J[J.length-1];if(c&&a.parens===c.parens+1){se(J.pop());continue}C({type:\"paren\",value:s,output:a.parens?\")\":\"\\\\)\"}),de(\"parens\");continue}if(s===\"[\"){if(l.nobracket===!0||!U().includes(\"]\")){if(l.nobracket!==!0&&l.strictBrackets===!0)throw new SyntaxError(A(\"closing\",\"]\"));s=`\\\\${s}`}else be(\"brackets\");C({type:\"bracket\",value:s});continue}if(s===\"]\"){if(l.nobracket===!0||o&&o.type===\"bracket\"&&o.value.length===1){C({type:\"text\",value:s,output:`\\\\${s}`});continue}if(a.brackets===0){if(l.strictBrackets===!0)throw new SyntaxError(A(\"opening\",\"[\"));C({type:\"text\",value:s,output:`\\\\${s}`});continue}de(\"brackets\");let c=o.value.slice(1);if(o.posix!==!0&&c[0]===\"^\"&&!c.includes(\"/\")&&(s=`/${s}`),o.value+=s,oe({value:s}),l.literalBrackets===!1||w.hasRegexChars(c))continue;let P=w.escapeRegex(o.value);if(a.output=a.output.slice(0,-o.value.length),l.literalBrackets===!0){a.output+=P,o.value=P;continue}o.value=`(${G}${P}|${o.value})`,a.output+=o.value;continue}if(s===\"{\"&&l.nobrace!==!0){be(\"braces\");let c={type:\"brace\",value:s,output:\"(\",outputIndex:a.output.length,tokensIndex:a.tokens.length};ae.push(c),C(c);continue}if(s===\"}\"){let c=ae[ae.length-1];if(l.nobrace===!0||!c){C({type:\"text\",value:s,output:s});continue}let P=\")\";if(c.dots===!0){let W=L.slice(),ie=[];for(let ee=W.length-1;ee>=0&&(L.pop(),W[ee].type!==\"brace\");ee--)W[ee].type!==\"dots\"&&ie.unshift(W[ee].value);P=R(ie,l),a.backtrack=!0}if(c.comma!==!0&&c.dots!==!0){let W=a.output.slice(0,c.outputIndex),ie=a.tokens.slice(c.tokensIndex);c.value=c.output=\"\\\\{\",s=P=\"\\\\}\",a.output=W;for(let ee of ie)a.output+=ee.output||ee.value}C({type:\"brace\",value:s,output:P}),de(\"braces\"),ae.pop();continue}if(s===\"|\"){J.length>0&&J[J.length-1].conditions++,C({type:\"text\",value:s});continue}if(s===\",\"){let c=s,P=ae[ae.length-1];P&&pe[pe.length-1]===\"braces\"&&(P.comma=!0,c=\"|\"),C({type:\"comma\",value:s,output:c});continue}if(s===\"/\"){if(o.type===\"dot\"&&a.index===a.start+1){a.start=a.index+1,a.consumed=\"\",a.output=\"\",L.pop(),o=M;continue}C({type:\"slash\",value:s,output:ce});continue}if(s===\".\"){if(a.braces>0&&o.type===\"dot\"){o.value===\".\"&&(o.output=re);let c=ae[ae.length-1];o.type=\"dots\",o.output+=s,o.value+=s,c.dots=!0;continue}if(a.braces+a.parens===0&&o.type!==\"bos\"&&o.type!==\"slash\"){C({type:\"text\",value:s,output:re});continue}C({type:\"dot\",value:s,output:re});continue}if(s===\"?\"){if(!(o&&o.value===\"(\")&&l.noextglob!==!0&&f()===\"(\"&&f(2)!==\"?\"){le(\"qmark\",s);continue}if(o&&o.type===\"paren\"){let P=f(),W=s;(o.value===\"(\"&&!/[!=<:]/.test(P)||P===\"<\"&&!/<([!=]|\\w+>)/.test(U()))&&(W=`\\\\${s}`),C({type:\"text\",value:s,output:W});continue}if(l.dot!==!0&&(o.type===\"slash\"||o.type===\"bos\")){C({type:\"qmark\",value:s,output:T});continue}C({type:\"qmark\",value:s,output:D});continue}if(s===\"!\"){if(l.noextglob!==!0&&f()===\"(\"&&(f(2)!==\"?\"||!/[!=<:]/.test(f(3)))){le(\"negate\",s);continue}if(l.nonegate!==!0&&a.index===0){te();continue}}if(s===\"+\"){if(l.noextglob!==!0&&f()===\"(\"&&f(2)!==\"?\"){le(\"plus\",s);continue}if(o&&o.value===\"(\"||l.regex===!1){C({type:\"plus\",value:s,output:H});continue}if(o&&(o.type===\"bracket\"||o.type===\"paren\"||o.type===\"brace\")||a.parens>0){C({type:\"plus\",value:s});continue}C({type:\"plus\",value:H});continue}if(s===\"@\"){if(l.noextglob!==!0&&f()===\"(\"&&f(2)!==\"?\"){C({type:\"at\",extglob:!0,value:s,output:\"\"});continue}C({type:\"text\",value:s});continue}if(s!==\"*\"){(s===\"$\"||s===\"^\")&&(s=`\\\\${s}`);let c=y.exec(U());c&&(s+=c[0],a.index+=c[0].length),C({type:\"text\",value:s});continue}if(o&&(o.type===\"globstar\"||o.star===!0)){o.type=\"star\",o.star=!0,o.value+=s,o.output=Y,a.backtrack=!0,a.globstar=!0,z(s);continue}let E=U();if(l.noextglob!==!0&&/^\\([^?]/.test(E)){le(\"star\",s);continue}if(o.type===\"star\"){if(l.noglobstar===!0){z(s);continue}let c=o.prev,P=c.prev,W=c.type===\"slash\"||c.type===\"bos\",ie=P&&(P.type===\"star\"||P.type===\"globstar\");if(l.bash===!0&&(!W||E[0]&&E[0]!==\"/\")){C({type:\"star\",value:s,output:\"\"});continue}let ee=a.braces>0&&(c.type===\"comma\"||c.type===\"brace\"),Ie=J.length&&(c.type===\"pipe\"||c.type===\"paren\");if(!W&&c.type!==\"paren\"&&!ee&&!Ie){C({type:\"star\",value:s,output:\"\"});continue}for(;E.slice(0,3)===\"/**\";){let Ce=p[a.index+4];if(Ce&&Ce!==\"/\")break;E=E.slice(3),z(\"/**\",3)}if(c.type===\"bos\"&&v()){o.type=\"globstar\",o.value+=s,o.output=ne(l),a.output=o.output,a.globstar=!0,z(s);continue}if(c.type===\"slash\"&&c.prev.type!==\"bos\"&&!ie&&v()){a.output=a.output.slice(0,-(c.output+o.output).length),c.output=`(?:${c.output}`,o.type=\"globstar\",o.output=ne(l)+(l.strictSlashes?\")\":\"|$)\"),o.value+=s,a.globstar=!0,a.output+=c.output+o.output,z(s);continue}if(c.type===\"slash\"&&c.prev.type!==\"bos\"&&E[0]===\"/\"){let Ce=E[1]!==void 0?\"|$\":\"\";a.output=a.output.slice(0,-(c.output+o.output).length),c.output=`(?:${c.output}`,o.type=\"globstar\",o.output=`${ne(l)}${ce}|${ce}${Ce})`,o.value+=s,a.output+=c.output+o.output,a.globstar=!0,z(s+x()),C({type:\"slash\",value:\"/\",output:\"\"});continue}if(c.type===\"bos\"&&E[0]===\"/\"){o.type=\"globstar\",o.value+=s,o.output=`(?:^|${ce}|${ne(l)}${ce})`,a.output=o.output,a.globstar=!0,z(s+x()),C({type:\"slash\",value:\"/\",output:\"\"});continue}a.output=a.output.slice(0,-o.output.length),o.type=\"globstar\",o.output=ne(l),o.value+=s,a.output+=o.output,a.globstar=!0,z(s);continue}let $={type:\"star\",value:s,output:Y};if(l.bash===!0){$.output=\".*?\",(o.type===\"bos\"||o.type===\"slash\")&&($.output=j+$.output),C($);continue}if(o&&(o.type===\"bracket\"||o.type===\"paren\")&&l.regex===!0){$.output=s,C($);continue}(a.index===a.start||o.type===\"slash\"||o.type===\"dot\")&&(o.type===\"dot\"?(a.output+=ue,o.output+=ue):l.dot===!0?(a.output+=Z,o.output+=Z):(a.output+=j,o.output+=j),f()!==\"*\"&&(a.output+=q,o.output+=q)),C($)}for(;a.brackets>0;){if(l.strictBrackets===!0)throw new SyntaxError(A(\"closing\",\"]\"));a.output=w.escapeLast(a.output,\"[\"),de(\"brackets\")}for(;a.parens>0;){if(l.strictBrackets===!0)throw new SyntaxError(A(\"closing\",\")\"));a.output=w.escapeLast(a.output,\"(\"),de(\"parens\")}for(;a.braces>0;){if(l.strictBrackets===!0)throw new SyntaxError(A(\"closing\",\"}\"));a.output=w.escapeLast(a.output,\"{\"),de(\"braces\")}if(l.strictSlashes!==!0&&(o.type===\"star\"||o.type===\"bracket\")&&C({type:\"maybe_slash\",value:\"\",output:`${ce}?`}),a.backtrack===!0){a.output=\"\";for(let E of a.tokens)a.output+=E.output!=null?E.output:E.value,E.suffix&&(a.output+=E.suffix)}return a};F.fastpaths=(p,k)=>{let l={...k},I=typeof l.maxLength==\"number\"?Math.min(b,l.maxLength):b,S=p.length;if(S>I)throw new SyntaxError(`Input length: ${S}, exceeds maximum allowed length: ${I}`);p=i[p]||p;let{DOT_LITERAL:M,SLASH_LITERAL:L,ONE_CHAR:G,DOTS_SLASH:B,NO_DOT:N,NO_DOTS:re,NO_DOTS_SLASH:H,STAR:ce,START_ANCHOR:q}=m.globChars(l.windows),K=l.dot?re:N,X=l.dot?H:N,ue=l.capture?\"\":\"?:\",Z={negated:!1,prefix:\"\"},D=l.bash===!0?\".*?\":ce;l.capture&&(D=`(${D})`);let T=j=>j.noglobstar===!0?D:`(${ue}(?:(?!${q}${j.dot?B:M}).)*?)`,V=j=>{switch(j){case\"*\":return`${K}${G}${D}`;case\".*\":return`${M}${G}${D}`;case\"*.*\":return`${K}${D}${M}${G}${D}`;case\"*/*\":return`${K}${D}${L}${G}${X}${D}`;case\"**\":return K+T(l);case\"**/*\":return`(?:${K}${T(l)}${L})?${X}${G}${D}`;case\"**/*.*\":return`(?:${K}${T(l)}${L})?${X}${D}${M}${G}${D}`;case\"**/.*\":return`(?:${K}${T(l)}${L})?${M}${G}${D}`;default:{let fe=/^(.*?)\\.(\\w+)$/.exec(j);if(!fe)return;let Y=V(fe[1]);return Y?Y+M+fe[2]:void 0}}},ye=w.removePrefix(p,Z),ne=V(ye);return ne&&l.strictSlashes!==!0&&(ne+=`${L}?`),ne},d.exports=F},510:(d,h,g)=>{let m=g(716),w=g(697),b=g(96),O=g(154),y=i=>i&&typeof i==\"object\"&&!Array.isArray(i),_=(i,R,A=!1)=>{if(Array.isArray(i)){let L=i.map(B=>_(B,R,A));return B=>{for(let N of L){let re=N(B);if(re)return re}return!1}}let F=y(i)&&i.tokens&&i.input;if(i===\"\"||typeof i!=\"string\"&&!F)throw new TypeError(\"Expected pattern to be a non-empty string\");let p=R||{},k=p.windows,l=F?_.compileRe(i,R):_.makeRe(i,R,!1,!0),I=l.state;delete l.state;let S=()=>!1;if(p.ignore){let L={...R,ignore:null,onMatch:null,onResult:null};S=_(p.ignore,L,A)}let M=(L,G=!1)=>{let{isMatch:B,match:N,output:re}=_.test(L,l,R,{glob:i,posix:k}),H={glob:i,state:I,regex:l,posix:k,input:L,output:re,match:N,isMatch:B};return typeof p.onResult==\"function\"&&p.onResult(H),B===!1?(H.isMatch=!1,G?H:!1):S(L)?(typeof p.onIgnore==\"function\"&&p.onIgnore(H),H.isMatch=!1,G?H:!1):(typeof p.onMatch==\"function\"&&p.onMatch(H),G?H:!0)};return A&&(M.state=I),M};_.test=(i,R,A,{glob:F,posix:p}={})=>{if(typeof i!=\"string\")throw new TypeError(\"Expected input to be a string\");if(i===\"\")return{isMatch:!1,output:\"\"};let k=A||{},l=k.format||(p?b.toPosixSlashes:null),I=i===F,S=I&&l?l(i):i;return I===!1&&(S=l?l(i):i,I=S===F),(I===!1||k.capture===!0)&&(k.matchBase===!0||k.basename===!0?I=_.matchBase(i,R,A,p):I=R.exec(S)),{isMatch:!!I,match:I,output:S}},_.matchBase=(i,R,A)=>(R instanceof RegExp?R:_.makeRe(R,A)).test(b.basename(i)),_.isMatch=(i,R,A)=>_(R,A)(i),_.parse=(i,R)=>Array.isArray(i)?i.map(A=>_.parse(A,R)):w(i,{...R,fastpaths:!1}),_.scan=(i,R)=>m(i,R),_.compileRe=(i,R,A=!1,F=!1)=>{if(A===!0)return i.output;let p=R||{},k=p.contains?\"\":\"^\",l=p.contains?\"\":\"$\",I=`${k}(?:${i.output})${l}`;i&&i.negated===!0&&(I=`^(?!${I}).*$`);let S=_.toRegex(I,R);return F===!0&&(S.state=i),S},_.makeRe=(i,R={},A=!1,F=!1)=>{if(!i||typeof i!=\"string\")throw new TypeError(\"Expected a non-empty string\");let p={negated:!1,fastpaths:!0};return R.fastpaths!==!1&&(i[0]===\".\"||i[0]===\"*\")&&(p.output=w.fastpaths(i,R)),p.output||(p=w(i,R)),_.compileRe(p,R,A,F)},_.toRegex=(i,R)=>{try{let A=R||{};return new RegExp(i,A.flags||(A.nocase?\"i\":\"\"))}catch(A){if(R&&R.debug===!0)throw A;return/$^/}},_.constants=O,d.exports=_},716:(d,h,g)=>{let m=g(96),{CHAR_ASTERISK:w,CHAR_AT:b,CHAR_BACKWARD_SLASH:O,CHAR_COMMA:y,CHAR_DOT:_,CHAR_EXCLAMATION_MARK:i,CHAR_FORWARD_SLASH:R,CHAR_LEFT_CURLY_BRACE:A,CHAR_LEFT_PARENTHESES:F,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_PLUS:k,CHAR_QUESTION_MARK:l,CHAR_RIGHT_CURLY_BRACE:I,CHAR_RIGHT_PARENTHESES:S,CHAR_RIGHT_SQUARE_BRACKET:M}=g(154),L=N=>N===R||N===O,G=N=>{N.isPrefix!==!0&&(N.depth=N.isGlobstar?1/0:1)},B=(N,re)=>{let H=re||{},ce=N.length-1,q=H.parts===!0||H.scanToEnd===!0,K=[],X=[],ue=[],Z=N,D=-1,T=0,V=0,ye=!1,ne=!1,j=!1,fe=!1,Y=!1,a=!1,J=!1,ae=!1,pe=!1,o=!1,s=0,v,f,x={value:\"\",depth:0,isGlob:!1},U=()=>D>=ce,z=()=>Z.charCodeAt(D+1),oe=()=>(v=f,Z.charCodeAt(++D));for(;D<ce;){f=oe();let le;if(f===O){J=x.backslashes=!0,f=oe(),f===A&&(a=!0);continue}if(a===!0||f===A){for(s++;U()!==!0&&(f=oe());){if(f===O){J=x.backslashes=!0,oe();continue}if(f===A){s++;continue}if(a!==!0&&f===_&&(f=oe())===_){if(ye=x.isBrace=!0,j=x.isGlob=!0,o=!0,q===!0)continue;break}if(a!==!0&&f===y){if(ye=x.isBrace=!0,j=x.isGlob=!0,o=!0,q===!0)continue;break}if(f===I&&(s--,s===0)){a=!1,ye=x.isBrace=!0,o=!0;break}}if(q===!0)continue;break}if(f===R){if(K.push(D),X.push(x),x={value:\"\",depth:0,isGlob:!1},o===!0)continue;if(v===_&&D===T+1){T+=2;continue}V=D+1;continue}if(H.noext!==!0&&(f===k||f===b||f===w||f===l||f===i)===!0&&z()===F){if(j=x.isGlob=!0,fe=x.isExtglob=!0,o=!0,f===i&&D===T&&(pe=!0),q===!0){for(;U()!==!0&&(f=oe());){if(f===O){J=x.backslashes=!0,f=oe();continue}if(f===S){j=x.isGlob=!0,o=!0;break}}continue}break}if(f===w){if(v===w&&(Y=x.isGlobstar=!0),j=x.isGlob=!0,o=!0,q===!0)continue;break}if(f===l){if(j=x.isGlob=!0,o=!0,q===!0)continue;break}if(f===p){for(;U()!==!0&&(le=oe());){if(le===O){J=x.backslashes=!0,oe();continue}if(le===M){ne=x.isBracket=!0,j=x.isGlob=!0,o=!0;break}}if(q===!0)continue;break}if(H.nonegate!==!0&&f===i&&D===T){ae=x.negated=!0,T++;continue}if(H.noparen!==!0&&f===F){if(j=x.isGlob=!0,q===!0){for(;U()!==!0&&(f=oe());){if(f===F){J=x.backslashes=!0,f=oe();continue}if(f===S){o=!0;break}}continue}break}if(j===!0){if(o=!0,q===!0)continue;break}}H.noext===!0&&(fe=!1,j=!1);let te=Z,be=\"\",de=\"\";T>0&&(be=Z.slice(0,T),Z=Z.slice(T),V-=T),te&&j===!0&&V>0?(te=Z.slice(0,V),de=Z.slice(V)):j===!0?(te=\"\",de=Z):te=Z,te&&te!==\"\"&&te!==\"/\"&&te!==Z&&L(te.charCodeAt(te.length-1))&&(te=te.slice(0,-1)),H.unescape===!0&&(de&&(de=m.removeBackslashes(de)),te&&J===!0&&(te=m.removeBackslashes(te)));let C={prefix:be,input:N,start:T,base:te,glob:de,isBrace:ye,isBracket:ne,isGlob:j,isExtglob:fe,isGlobstar:Y,negated:ae,negatedExtglob:pe};if(H.tokens===!0&&(C.maxDepth=0,L(f)||X.push(x),C.tokens=X),H.parts===!0||H.tokens===!0){let le;for(let se=0;se<K.length;se++){let E=le?le+1:T,$=K[se],c=N.slice(E,$);H.tokens&&(se===0&&T!==0?(X[se].isPrefix=!0,X[se].value=be):X[se].value=c,G(X[se]),C.maxDepth+=X[se].depth),(se!==0||c!==\"\")&&ue.push(c),le=$}if(le&&le+1<N.length){let se=N.slice(le+1);ue.push(se),H.tokens&&(X[X.length-1].value=se,G(X[X.length-1]),C.maxDepth+=X[X.length-1].depth)}C.slashes=K,C.parts=ue}return C};d.exports=B},96:(d,h,g)=>{let{REGEX_BACKSLASH:m,REGEX_REMOVE_BACKSLASH:w,REGEX_SPECIAL_CHARS:b,REGEX_SPECIAL_CHARS_GLOBAL:O}=g(154);h.isObject=y=>y!==null&&typeof y==\"object\"&&!Array.isArray(y),h.hasRegexChars=y=>b.test(y),h.isRegexChar=y=>y.length===1&&h.hasRegexChars(y),h.escapeRegex=y=>y.replace(O,\"\\\\$1\"),h.toPosixSlashes=y=>y.replace(m,\"/\"),h.removeBackslashes=y=>y.replace(w,_=>_===\"\\\\\"?\"\":_),h.escapeLast=(y,_,i)=>{let R=y.lastIndexOf(_,i);return R===-1?y:y[R-1]===\"\\\\\"?h.escapeLast(y,_,R-1):`${y.slice(0,R)}\\\\${y.slice(R)}`},h.removePrefix=(y,_={})=>{let i=y;return i.startsWith(\"./\")&&(i=i.slice(2),_.prefix=\"./\"),i},h.wrapOutput=(y,_={},i={})=>{let R=i.contains?\"\":\"^\",A=i.contains?\"\":\"$\",F=`${R}(?:${y})${A}`;return _.negated===!0&&(F=`(?:^(?!${F}).*$)`),F},h.basename=(y,{windows:_}={})=>{let i=y.split(_?/[\\\\/]/:\"/\"),R=i[i.length-1];return R===\"\"?i[i.length-2]:R}}},e={};function r(d){var h=e[d];if(h!==void 0)return h.exports;var g=e[d]={exports:{}},m=!0;try{n[d](g,g.exports,r),m=!1}finally{m&&delete e[d]}return g.exports}typeof r<\"u\"&&(r.ab=__dirname+\"/\");var u=r(170);kt.exports=u})()});var Lt=Q(Ke=>{\"use strict\";Object.defineProperty(Ke,\"__esModule\",{value:!0});function Xn(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}Xn(Ke,{hasLocalMatch:function(){return Wn},matchLocalPattern:function(){return Dt}});var Vn=We();function Dt(n,e){if(n.search!==void 0&&n.search!==e.search)return!1;var r;return!!(0,Vn.makeRe)((r=n.pathname)!=null?r:\"**\",{dot:!0}).test(e.pathname)}function Wn(n,e){if(!n)return!0;let r=new URL(e,\"http://n\");return n.some(u=>Dt(u,r))}});var Ht=Q(Ye=>{\"use strict\";Object.defineProperty(Ye,\"__esModule\",{value:!0});function Kn(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}Kn(Ye,{hasRemoteMatch:function(){return Yn},matchRemotePattern:function(){return Mt}});var Nt=We();function Mt(n,e){if(n.protocol!==void 0&&n.protocol.replace(/:$/,\"\")!==e.protocol.replace(/:$/,\"\")||n.port!==void 0&&n.port!==e.port)return!1;if(n.hostname===void 0)throw Object.defineProperty(new Error(`Pattern should define hostname but found\n`+JSON.stringify(n)),\"__NEXT_ERROR_CODE\",{value:\"E410\",enumerable:!1,configurable:!0});if(!(0,Nt.makeRe)(n.hostname).test(e.hostname)||n.search!==void 0&&n.search!==e.search)return!1;var r;return!!(0,Nt.makeRe)((r=n.pathname)!=null?r:\"**\",{dot:!0}).test(e.pathname)}function Yn(n,e,r){return n.some(u=>r.hostname===u)||e.some(u=>Mt(u,r))}});var et=Q(Je=>{\"use strict\";Object.defineProperty(Je,\"__esModule\",{value:!0});Object.defineProperty(Je,\"default\",{enumerable:!0,get:function(){return Zn}});var Ze=75;function $t(n){let{config:e,src:r,width:u,quality:d}=n;var h;{let m=[];if(r||m.push(\"src\"),u||m.push(\"width\"),m.length>0)throw Object.defineProperty(new Error(\"Next Image Optimization requires \"+m.join(\", \")+\" to be provided. Make sure you pass them as props to the `next/image` component. Received: \"+JSON.stringify({src:r,width:u,quality:d})),\"__NEXT_ERROR_CODE\",{value:\"E188\",enumerable:!1,configurable:!0});if(r.startsWith(\"//\"))throw Object.defineProperty(new Error('Failed to parse src \"'+r+'\" on `next/image`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)'),\"__NEXT_ERROR_CODE\",{value:\"E360\",enumerable:!1,configurable:!0});if(r.startsWith(\"/\")&&e.localPatterns&&process.env.NEXT_RUNTIME!==\"edge\"){let{hasLocalMatch:w}=Lt();if(!w(e.localPatterns,r))throw Object.defineProperty(new Error(\"Invalid src prop (\"+r+\") on `next/image` does not match `images.localPatterns` configured in your `next.config.js`\\nSee more info: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns\"),\"__NEXT_ERROR_CODE\",{value:\"E426\",enumerable:!1,configurable:!0})}if(!r.startsWith(\"/\")&&(e.domains||e.remotePatterns)){let w;try{w=new URL(r)}catch(b){throw console.error(b),Object.defineProperty(new Error('Failed to parse src \"'+r+'\" on `next/image`, if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)'),\"__NEXT_ERROR_CODE\",{value:\"E63\",enumerable:!1,configurable:!0})}if(process.env.NEXT_RUNTIME!==\"edge\"){let{hasRemoteMatch:b}=Ht();if(!b(e.domains,e.remotePatterns,w))throw Object.defineProperty(new Error(\"Invalid src prop (\"+r+') on `next/image`, hostname \"'+w.hostname+'\" is not configured under images in your `next.config.js`\\nSee more info: https://nextjs.org/docs/messages/next-image-unconfigured-host'),\"__NEXT_ERROR_CODE\",{value:\"E231\",enumerable:!1,configurable:!0})}}if(d&&e.qualities&&!e.qualities.includes(d))throw Object.defineProperty(new Error(\"Invalid quality prop (\"+d+\") on `next/image` does not match `images.qualities` configured in your `next.config.js`\\nSee more info: https://nextjs.org/docs/messages/next-image-unconfigured-qualities\"),\"__NEXT_ERROR_CODE\",{value:\"E623\",enumerable:!1,configurable:!0})}let g=d||((h=e.qualities)==null?void 0:h.reduce((m,w)=>Math.abs(w-Ze)<Math.abs(m-Ze)?w:m))||Ze;return e.path+\"?url=\"+encodeURIComponent(r)+\"&w=\"+u+\"&q=\"+g+(r.startsWith(\"/_next/static/media/\")&&process.env.NEXT_DEPLOYMENT_ID?\"&dpl=\"+process.env.NEXT_DEPLOYMENT_ID:\"\")}$t.__next_img_default=!0;var Zn=$t});var Ut=Q((ge,qt)=>{\"use strict\";Object.defineProperty(ge,\"__esModule\",{value:!0});Object.defineProperty(ge,\"useMergedRef\",{enumerable:!0,get:function(){return Jn}});var tt=_e();function Jn(n,e){let r=(0,tt.useRef)(null),u=(0,tt.useRef)(null);return(0,tt.useCallback)(d=>{if(d===null){let h=r.current;h&&(r.current=null,h());let g=u.current;g&&(u.current=null,g())}else n&&(r.current=jt(n,d)),e&&(u.current=jt(e,d))},[n,e])}function jt(n,e){if(typeof n==\"function\"){let r=n(e);return typeof r==\"function\"?r:()=>n(null)}else return n.current=e,()=>{n.current=null}}(typeof ge.default==\"function\"||typeof ge.default==\"object\"&&ge.default!==null)&&typeof ge.default.__esModule>\"u\"&&(Object.defineProperty(ge.default,\"__esModule\",{value:!0}),Object.assign(ge.default,ge),qt.exports=ge.default)});var Vt=Q((me,Xt)=>{\"use client\";\"use strict\";Object.defineProperty(me,\"__esModule\",{value:!0});Object.defineProperty(me,\"Image\",{enumerable:!0,get:function(){return dr}});var nt=Re(),er=He(),we=xe(),he=er._(_e()),Gt=nt._(gt()),tr=nt._(St()),nr=Me(),rr=Pe(),or=It(),Fe=Se(),sr=Bt(),ar=nt._(et()),lr=Ut(),ir=process.env.__NEXT_IMAGE_OPTS;typeof window>\"u\"&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);function zt(n,e,r,u,d,h,g){let m=n?.src;if(!n||n[\"data-loaded-src\"]===m)return;n[\"data-loaded-src\"]=m,(\"decode\"in n?n.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(!(!n.parentElement||!n.isConnected)){if(e!==\"empty\"&&d(!0),r?.current){let b=new Event(\"load\");Object.defineProperty(b,\"target\",{writable:!1,value:n});let O=!1,y=!1;r.current({...b,nativeEvent:b,currentTarget:n,target:n,isDefaultPrevented:()=>O,isPropagationStopped:()=>y,persist:()=>{},preventDefault:()=>{O=!0,b.preventDefault()},stopPropagation:()=>{y=!0,b.stopPropagation()}})}u?.current&&u.current(n);{let b=new URL(m,\"http://n\").searchParams.get(\"url\")||m;if(n.getAttribute(\"data-nimg\")===\"fill\"){if(!h&&(!g||g===\"100vw\")&&n.getBoundingClientRect().width/window.innerWidth<.6&&(g===\"100vw\"?(0,Fe.warnOnce)('Image with src \"'+b+'\" has \"fill\" prop and \"sizes\" prop of \"100vw\", but image is not rendered at full viewport width. Please adjust \"sizes\" to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes'):(0,Fe.warnOnce)('Image with src \"'+b+'\" has \"fill\" but is missing \"sizes\" prop. Please add it to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes')),n.parentElement){let{position:_}=window.getComputedStyle(n.parentElement),i=[\"absolute\",\"fixed\",\"relative\"];i.includes(_)||(0,Fe.warnOnce)('Image with src \"'+b+'\" has \"fill\" and parent element with invalid \"position\". Provided \"'+_+'\" should be one of '+i.map(String).join(\",\")+\".\")}n.height===0&&(0,Fe.warnOnce)('Image with src \"'+b+'\" has \"fill\" and a height value of 0. This is likely because the parent element of the image has not been styled to have a set height.')}let O=n.height.toString()!==n.getAttribute(\"height\"),y=n.width.toString()!==n.getAttribute(\"width\");(O&&!y||!O&&y)&&(0,Fe.warnOnce)('Image with src \"'+b+`\" has either width or height modified, but not the other. If you use CSS to change the size of your image, also include the styles 'width: \"auto\"' or 'height: \"auto\"' to maintain the aspect ratio.`)}}})}function Qt(n){return he.use?{fetchPriority:n}:{fetchpriority:n}}var cr=(0,he.forwardRef)((n,e)=>{let{src:r,srcSet:u,sizes:d,height:h,width:g,decoding:m,className:w,style:b,fetchPriority:O,placeholder:y,loading:_,unoptimized:i,fill:R,onLoadRef:A,onLoadingCompleteRef:F,setBlurComplete:p,setShowAltText:k,sizesInput:l,onLoad:I,onError:S,...M}=n,L=(0,he.useCallback)(B=>{B&&(S&&(B.src=B.src),r||console.error('Image is missing required \"src\" property:',B),B.getAttribute(\"alt\")===null&&console.error('Image is missing required \"alt\" property. Please add Alternative Text to describe the image for screen readers and search engines.'),B.complete&&zt(B,y,A,F,p,i,l))},[r,y,A,F,p,S,i,l]),G=(0,lr.useMergedRef)(e,L);return(0,we.jsx)(\"img\",{...M,...Qt(O),loading:_,width:g,height:h,decoding:m,\"data-nimg\":R?\"fill\":\"1\",className:w,style:b,sizes:d,srcSet:u,src:r,ref:G,onLoad:B=>{let N=B.currentTarget;zt(N,y,A,F,p,i,l)},onError:B=>{k(!0),y!==\"empty\"&&p(!0),S&&S(B)}})});function ur(n){let{isAppRouter:e,imgAttributes:r}=n,u={as:\"image\",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...Qt(r.fetchPriority)};return e&&Gt.default.preload?(Gt.default.preload(r.src,u),null):(0,we.jsx)(tr.default,{children:(0,we.jsx)(\"link\",{rel:\"preload\",href:r.srcSet?void 0:r.src,...u},\"__nimg-\"+r.src+r.srcSet+r.sizes)})}var dr=(0,he.forwardRef)((n,e)=>{let u=!(0,he.useContext)(sr.RouterContext),d=(0,he.useContext)(or.ImageConfigContext),h=(0,he.useMemo)(()=>{var F;let p=ir||d||rr.imageConfigDefault,k=[...p.deviceSizes,...p.imageSizes].sort((S,M)=>S-M),l=p.deviceSizes.sort((S,M)=>S-M),I=(F=p.qualities)==null?void 0:F.sort((S,M)=>S-M);return{...p,allSizes:k,deviceSizes:l,qualities:I}},[d]),{onLoad:g,onLoadingComplete:m}=n,w=(0,he.useRef)(g);(0,he.useEffect)(()=>{w.current=g},[g]);let b=(0,he.useRef)(m);(0,he.useEffect)(()=>{b.current=m},[m]);let[O,y]=(0,he.useState)(!1),[_,i]=(0,he.useState)(!1),{props:R,meta:A}=(0,nr.getImgProps)(n,{defaultLoader:ar.default,imgConf:h,blurComplete:O,showAltText:_});return(0,we.jsxs)(we.Fragment,{children:[(0,we.jsx)(cr,{...R,unoptimized:A.unoptimized,placeholder:A.placeholder,fill:A.fill,onLoadRef:w,onLoadingCompleteRef:b,setBlurComplete:y,setShowAltText:i,sizesInput:n.sizes,ref:e}),A.priority?(0,we.jsx)(ur,{isAppRouter:u,imgAttributes:R}):null]})});(typeof me.default==\"function\"||typeof me.default==\"object\"&&me.default!==null)&&typeof me.default.__esModule>\"u\"&&(Object.defineProperty(me.default,\"__esModule\",{value:!0}),Object.assign(me.default,me),Xt.exports=me.default)});var Wt=Q(rt=>{\"use strict\";Object.defineProperty(rt,\"__esModule\",{value:!0});function pr(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}pr(rt,{default:function(){return mr},getImageProps:function(){return gr}});var hr=Re(),fr=Me(),yr=Vt(),Er=hr._(et());function gr(n){let{props:e}=(0,fr.getImgProps)(n,{defaultLoader:Er.default,imgConf:process.env.__NEXT_IMAGE_OPTS});for(let[r,u]of Object.entries(e))u===void 0&&delete e[r];return{props:e}}var mr=yr.Image});var Yt=Q((qr,Kt)=>{Kt.exports=Wt()});var br={};an(br,{default:()=>en,frontmatter:()=>_r});var t=st(xe()),Jt=st(Yt()),_r={title:\"Typesafe Routing with React-Router: Advanced TypeScript\",description:\"Exploring the generatePath function from react-router-dom\",publishDate:\"2024-08-25\",tags:[\"React Router\",\"TypeScript\",\"Typesafe Routing\",\"Advanced Typescript\"]};function Zt(n){let e={a:\"a\",code:\"code\",em:\"em\",figure:\"figure\",h2:\"h2\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:(0,t.jsxs)(e.em,{children:[\"TLDR; Use \",(0,t.jsx)(e.a,{href:\"https://reactrouter.com/en/main/utils/generate-path\",children:\"generatePath\"}),\" from \",(0,t.jsx)(e.code,{children:'\"react-router-dom\"'}),\" to build URLs with type-safety. Link to \",(0,t.jsx)(e.a,{href:\"https://www.typescriptlang.org/play/?#code/C4TwDgpgBACghsAFvATnAtgHnkqEAewEAdgCYDOU5wKAlsQOYB8UAvLAonoSRVAAYASAN70AZhBRQAMgF8A9CPGSoAJVn8AUFB1QA-BySoMmaSwA+h5HDRZVTbboBcV7kTKV+TpcQlTj6BqOuvoctsHOUMQQAG6SANyamqCQYRjk2JxuvJTUdIws7MJQANoA1hAgUPRWAZlITAC6ei559AxQsony8mnoGQBEcANQlgMARgOFUMVwLVQ07QA0UOPzbYydSWIArsQAxsC0APbEqzu0ADakOIjY2R4L+cwAFGCcLjAr77bk8wEZGBMACUrUWm2EERQEGAOxQZ3eSAAdNCwJc4PsIC95E4XiUAHoAHXkjQA1MD5AwVi8APorCogYFsFiQkIhWhiKBvGzpPRI8qVRpsVjsPakCBiegQUhM1ls+VIFDHADuUQgqoAoiglSgXvwALK0cjkdpQH4YGGSFwiBkaYGJeU6WQRELQ2Hws08-p8gVVOCUGCNB26WT2zTOzT7U7kY6XCBIy7HBgvcYXa63F4DeQ7ciScg4nOSACSpAGK2KhZQJZcAHIAIw1zrAsNR4gxuMJpMptM3TiZ7O5lD5pyVkvyMDHajDifUEtlmZQUekWsN76T4DVqA1gBMjdDLejsfjieTqauvaQ-crw6X8+KtGXW4bTftQA\",children:\"TypeScript Playground\"})]})}),`\n`,(0,t.jsx)(e.p,{children:\"We use URLs in our code 1) to define routes and 2) to redirect to them. If we only had URLs without any dynamic parameters, then we could, in-theory, just store them as constants.\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"The route definition (ex: \",(0,t.jsx)(e.code,{children:\"/users/:userId\"}),`) is not dynamic, and therefore can be stored as a\nconstant. When redirecting, we just need to build the URL from the definition by replacing the parameters with provided values, in a type-safe way. In short, we need to go from `,(0,t.jsx)(e.code,{children:\"/users/:userId\"}),\" to \",(0,t.jsx)(e.code,{children:\"/users/1\"}),\", while TypeScript holds our hand.\"]}),`\n`,(0,t.jsx)(e.h2,{id:\"defining-constants\",children:\"Defining Constants\"}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// src/constants.ts\"})}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" Routes\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    USERS: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    USER_DETAILS: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users/:userId\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"as\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Utility type\"})}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" type\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Routes\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"typeof\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Routes)[\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"keyof\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" typeof\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Routes]; \"}),(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// \"/users\" | \"/users/:userId\"'})]})]})})}),`\n`,(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:\"Routes\"}),\" will hold the route definitions, which we can directly use in the \",(0,t.jsx)(e.code,{children:\"<Route />\"}),\" component. We will be using it later as types to our function's argument.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Notice the use of \",(0,t.jsx)(e.code,{children:\"as const\"}),\" here. The \",(0,t.jsx)(e.strong,{children:\"constant assertion\"}),' is used to ensure that the object is inferred \"literally\". This means that the ',(0,t.jsx)(e.code,{children:\"type Routes\"}),\" will be equal to \",(0,t.jsx)(e.code,{children:'\"/users\" | \"/users/:userId\"'}),\" instead of \",(0,t.jsx)(e.code,{children:\"string\"}),\". \",(0,t.jsx)(\"br\",{}),\" \",(0,t.jsx)(\"br\",{}),`\nNext, we need the function that will help us go from `,(0,t.jsx)(e.code,{children:\"/users/:userId\"}),\" to \",(0,t.jsx)(e.code,{children:\"/users/1\"}),\".\"]}),`\n`,(0,t.jsxs)(e.h2,{id:\"introducing-buildpath\",children:[\"Introducing \",(0,t.jsx)(e.code,{children:\"buildPath\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Here's what \",(0,t.jsx)(e.code,{children:\"buildPath\"}),\" does:\"]}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// function buildPath(path, params?);\"})}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" buildPath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users/:userId\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { userId: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }); \"}),(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// Ok -> url = \"/users/1\"'})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" buildPath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users/:userId\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { id: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }); \"}),(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// TypeError: expected { userId: string }\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" buildPath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"); \"}),(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// Ok -> url = \"/users\"'})]})]})})}),`\n`,(0,t.jsx)(e.p,{children:\"Ignoring the type-safe aspect of this function, below is one way to implement it.\"}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" buildPath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"path\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"params\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Record\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"string\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"string\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">) {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" path.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"replace\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,t.jsx)(e.span,{style:{color:\"#DBEDFF\"},children:\":(\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"[\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"^\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\",fontWeight:\"bold\"},children:\"\\\\/\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"]\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,t.jsx)(e.span,{style:{color:\"#DBEDFF\"},children:\")\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"g\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"key\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (params[key] \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            throw\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Missing parameter: ${\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"key\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" params[key];\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,t.jsxs)(e.p,{children:[\"It looks for the \",(0,t.jsx)(e.code,{children:\":<key>\"}),\" pattern and replaces it with \",(0,t.jsx)(e.code,{children:\"params[key]\"}),\" (if found). This function checks for missing parameters at runtime. But we can do \",(0,t.jsx)(e.em,{children:\"better\"}),\".\"]}),`\n`,(0,t.jsx)(e.h2,{id:\"sprinkling-typescript-magic-\",children:\"Sprinkling TypeScript Magic \\u2728\"}),`\n`,(0,t.jsx)(e.p,{children:\"This is where we get to have fun. Essentially we need a type, that gives us the parameters as union of literals.\"}),`\n`,(0,t.jsx)(e.p,{children:\"Take a look at this - it's all we really need.\"}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"type\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" PathParam\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Path\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"> \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Path\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `${\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"infer\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" L\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}/${\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"infer\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" R\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    ?\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" PathParam\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"L\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"> \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"|\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" PathParam\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"R\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    :\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Path\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\" `:${\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"infer\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Param\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      ?\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Param\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"      :\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" never\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]})]})})}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"PathParam\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/a/:b\"'}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"b\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"PathParam\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/:a/:b\"'}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"a\"'}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" |\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"b\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"PathParam\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/a\"'}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\">\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" never;\"})]})]})})}),`\n`,(0,t.jsxs)(e.p,{children:[\"Here's a diagram of how the \",(0,t.jsx)(e.code,{children:\"PathParam\"}),\" type works. The result is a union of all the leaf nodes\"]}),`\n`,(0,t.jsx)(Jt.default,{src:\"/assets/path-param-type-diagram.png\",alt:\"Diagram explaining working of PathParam type\",width:600,height:400}),`\n`,(0,t.jsxs)(e.p,{children:[\"We are essentially performing a divide-and-conquer algorithm using pattern matching! \",(0,t.jsx)(\"br\",{}),`\nIn case you are not familiar with `,(0,t.jsx)(e.code,{children:\"never\"}),\", \",(0,t.jsx)(e.code,{children:\"extends\"}),\" or \",(0,t.jsx)(e.code,{children:\"infer\"}),\" keywords, check out \",(0,t.jsx)(e.a,{href:\"https://blog.logrocket.com/understanding-infer-typescript/#no-value-never-type\",children:\"this guide\"}),\" for a brief summary or \",(0,t.jsx)(e.a,{href:\"https://www.youtube.com/@mattpocockuk\",children:\"Matt Pocock\"}),\" for amazing videos covering advanced TypeScript concepts.\"]}),`\n`,(0,t.jsx)(e.h2,{id:\"almost-there\",children:\"Almost There\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"Let's use \",(0,t.jsx)(e.code,{children:\"PathParam\"}),\" with \",(0,t.jsx)(e.code,{children:\"buildPath\"}),\" to achieve what we set out to do.\"]}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"type\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Params\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Path\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"> \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { [\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"key\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" in\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" PathParam\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Path\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">]\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" };\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// Params<\"/:a/:b\"> = { a?: string, b?: string }'})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" buildPath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"P\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">(\"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"path\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" P\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"params\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"?:\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Params\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"P\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">)\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" path.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"replace\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,t.jsx)(e.span,{style:{color:\"#DBEDFF\"},children:\":(\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"[\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"^\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\",fontWeight:\"bold\"},children:\"\\\\/\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"]\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,t.jsx)(e.span,{style:{color:\"#DBEDFF\"},children:\")\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"/\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"g\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", (\"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"_\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"key\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        if\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (params[key] \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            throw\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`Missing parameter: ${\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"key\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" params[key];\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,t.jsxs)(e.p,{children:[\"This works now! You can play with it on \",(0,t.jsx)(e.a,{href:\"https://www.typescriptlang.org/play/?#code/C4TwDgpgBACghsAFvATnAtgHnkqEAewEAdgCYDOU5wKAlsQOYB8UAvLAonoSRVAAYASAN70AZhBRQAMgF8A9CPGSoAJVn8AUFB1QA-BySoMmaSwA+h5HDRZVTbboBcV7kTKV+TpcQlTj6BqOuvoctsHOUMQQAG6SANyamqCQYRjk2JxuvJTUdIws7MJQANoA1hAgUPRWAZlITAC6ei559AxQsony8mnoGQBEcANQlgMARgOFUMVwLVQ07QA0UOPzbYydSWIArsQAxsC0APbEqzu0ADakOIjY2R4L+cwAFGCcLjAr77bk8wEZGBMACUrUWm2EERQEGAOxQZ3eSAAdNCwJc4PsIC95E4XiUAHoAHXkjQA1MD5AwVi8APorCogYFsFiQkIhWhiKBvGzpPRI8qVRpsVjsPakCBiegQUhM1ls+VIFDHADuUQgqoAoiglSgXvwALK0cjkdpQH4YGGSFwiBkaYGJeU6WQRELQ2Hws08-p8gVVOCUGCNB26WT2zTOzT7U7kY6XCBIy7HBgvcYXa63F4DeQ7ciScg4nOSACSpAGK2KhZQJZcAHIAIw1zrAsNR4gxuMJpMptM3TiZ7O5lD5pyVkvyMDHajDifUEtlmZQUekWsN76T4DVqA1gBMjdDLejsfjieTqauvaQ-crw6X8+KtGXW4bTftQA\",children:\"TypeScript Playground\"})]}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" buildPath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users/:id/:name\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { id: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", name: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"amandeep),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }); \"}),(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:'// Ok -> url = \"/users/1/amandeep)]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" url\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" buildPath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/users/:userId\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { id: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }); \"}),(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// TypeError: expected { userId: string }\"})]})]})})}),`\n`,(0,t.jsxs)(e.p,{children:[\"This function is already good enough to be used as-is. Up until now whatever we did is \",(0,t.jsx)(e.strong,{children:\"framework agnostic\"}),`. The\nfollowing part is totally optional and is just one way of using this concept with React-Router.`]}),`\n`,(0,t.jsxs)(e.h2,{id:\"enter-react-router-dom\",children:[\"Enter \",(0,t.jsx)(e.code,{children:'\"react-router-dom\"'})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"So here's the good news: all the hardwork we did above is already done by the \",(0,t.jsx)(e.a,{href:\"https://reactrouter.com/en/main/utils/generate-path\",children:(0,t.jsx)(e.code,{children:\"generatePath\"})}),\" function from \",(0,t.jsx)(e.code,{children:'\"react-router-dom\"'}),\". Let's use it instead of our suboptimal implementation. We will also narrow the type of \",(0,t.jsx)(e.code,{children:\"path\"}),\" argument from \",(0,t.jsx)(e.code,{children:\"string\"}),\" to \",(0,t.jsx)(e.code,{children:\"Routes\"}),\" (the constant we defined earlier)\"]}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"type\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" Routes } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./constants\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { generatePath } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react-router-dom\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" buildPath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"P\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" extends\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Routes\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">(\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"args\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Parameters\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"typeof\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" generatePath<\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"P\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">>)\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\":\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" string\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" generatePath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"args);\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,t.jsxs)(e.p,{children:[\"Note: \",(0,t.jsx)(e.code,{children:\"Parameters\"}),\" is a utility class in TypeScript that allows us to get the typeof parameters of a function in form of a tuple.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"We can also do something similar and create a wrapper on the \",(0,t.jsx)(e.code,{children:\"<Route />\"}),\" component which only accepts paths from \",(0,t.jsx)(e.code,{children:\"Routes\"}),\" constant. However, I'm not a fan of adding JS code only for type-safety, so I'll be skipping that part. In the case of \",(0,t.jsx)(e.code,{children:\"buildPath\"}),\" it is justified as I also don't like to use utility functions directly from the library and prefer thin wrappers.\"]}),`\n`,(0,t.jsx)(e.h2,{id:\"conclusion\",children:\"Conclusion\"}),`\n`,(0,t.jsx)(e.p,{children:\"We now have a type-safe way of building paths to navigate to pages which are known to our application. TypeScript is amazing.\"}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useNavigate } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react-router-dom\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { buildPath } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"./utils\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"export\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" const\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" SomePage\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { \"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"navigate\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useNavigate\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    function\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" redirect\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        navigate\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"buildPath\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(Routes.\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"USER_DETAILS\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { userId: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"1\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" }));\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{redirect}>Navigate to User Details</\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">;\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,t.jsx)(e.p,{children:\"We can always improve it by adding support for queryParamets, support for numeric parameters and so on, but the general concept remain the same. Hope you enjoyed!\"})]})}function en(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(Zt,{...n})}):Zt(n)}return ln(br);})();\n;return Component;"
  },
  "_id": "blog/typesafe-routing-with-react-router.mdx",
  "_raw": {
    "sourceFilePath": "blog/typesafe-routing-with-react-router.mdx",
    "sourceFileName": "typesafe-routing-with-react-router.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/typesafe-routing-with-react-router"
  },
  "type": "Blog",
  "slug": "typesafe-routing-with-react-router"
}
