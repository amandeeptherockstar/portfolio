{
  "title": "The URL is a great place to store state in React",
  "description": "Why it's a good idea to use the URL to store state",
  "publishDate": "2025-03-11T00:00:00.000Z",
  "tags": [
    "React",
    "URL",
    "State",
    "Advanced React Patterns",
    "useState"
  ],
  "draft": false,
  "body": {
    "raw": "\nimport Image from 'next/image';\n\nSometimes, the best place to store state is right in the URL. It’s simple, practical, and often overlooked. Let’s explore why it’s worth considering.\n\n## The Problem\n\nHere's what we want to achieve:\nLet's say we have a modal (dialog) component that allows the user to perform some important actions which are part of the core flow. We would like the modal to stay open even after the user reloads the page.\n\nIf we were to just use `useState` for the modal `open` state, we would lose this information when the page reloads. Let's see how we can solve this problem.\n\n<Image\n    src=\"https://res.cloudinary.com/dc7wg0knu/image/upload/v1737826203/url-as-state-before-after_ia5irl.png\"\n    alt=\"Before and After\"\n    width={800}\n    height={100}\n/>\n\n## Ways to Store State on the Client\n\nLet's look at the options we have to store state to achieve the desired behavior.\nThe options can generally be categorized as follows:\n\n#### In the Application\n\nData that belongs in the working memory of the application. Lasts as long as the application is running.\n\n```ts\nconst App = () => {\n    const [open, setOpen] = useState(false);\n    return <Modal open={open} onClose={() => setOpen(false)} />;\n};\n```\n\n#### In the Browser\n\nData that is stored in the browser. Examples include `localStorage` and `sessionStorage`.\n\n```ts\nconst App = () => {\n    const [open, setOpen] = useState(() => {\n        try {\n            return localStorage.getItem(\"modalOpen\") === \"true\";\n        } catch (error) {\n            console.error(\"Failed to read from localStorage:\", error);\n            return false; // Default fallback value\n        }\n    });\n\n    useEffect(() => {\n        try {\n            localStorage.setItem(\"modalOpen\", open);\n        } catch (error) {\n            console.error(\"Failed to write to localStorage:\", error);\n        }\n    }, [open]);\n\n    return <Modal open={open} onClose={() => setOpen(false)} />;\n};\n```\n\n#### In the Server\n\nData that is stored in the server and accessible via an API. This method would require the client to make a request to the server each time the state of the modal changes.\n\n```ts\nconst App = () => {\n    const [open, setOpen] = useState(false);\n    const [isOpen, setIsOpen] = useState(false);\n\n    useEffect(() => {\n        const updateModalState = async () => {\n            try {\n                const response = await fetch(\"/api/modal\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({ open: isOpen }),\n                });\n\n                if (!response.ok) {\n                    throw new Error(`API error: ${response.status}`);\n                }\n\n                const data = await response.json();\n                if (data.modalState !== undefined) {\n                    setOpen(data.modalState);\n                }\n\n            } catch (error) {\n                console.error(\"Failed to update modal state:\", error);\n            }\n        };\n\n        updateModalState();\n    }, [isOpen]);\n\n    return (\n        <Modal\n            open={open}\n            onClose={() => setIsOpen(false)}\n        />\n    );\n};\n```\n\n#### In the URL\n\nThis is the encoded data stored in the URL in the form of a `string`. Good examples are Query Parameters (`\"/users?userId=desc\"`) and Path Parameters (`\"/users/1324\"`).\n\n## Why choose the URL\n\nAs with everything, there are pros and cons to each approach.\n\n#### Pros\n\n-   **Shareable between users**: The URL is accessible to anyone who has the link to the page. This makes it easy to share the URL with others.\n-   **Fast**: Reading from the URL is generally faster than reading from localStorage, or requesting data from the server.\n-   **Global**: The state is global and can be accessed by any component.\n-   **Navigation-friendly (Optional)**: The state can leave a trail in the browser history, which can be useful for certain applications.\n\n#### Cons\n\n-   **Hard to debug and maintain**: When state is stored in the URL, it can be challenging to trace issues back to the source, especially if the URL becomes complex with multiple parameters.\n-   **Hard to scale:** Storing large amounts of state in the URL can lead to lengthy URLs, which [may exceed browser limits](https://stackoverflow.com/questions/812925/what-is-the-maximum-possible-length-of-a-query-string) and degrade user experience.\n-   **Not type-safe out of the box**: URL parameters are typically strings, requiring additional parsing and validation to ensure the correct data types are used, which can introduce bugs if not handled properly.\n\n## How to store state in the URL\n\nStoring state in the URL involves using query parameters (?key=value) or hash fragments (#section). This allows state persistence across page reloads and enables users to share specific application states via URLs.\n\nIn React, `useSearchParams` from React Router or the `URLSearchParams` API can be used to manage query parameters dynamically.\n\nUsing `useSearchParams` (React Router)\n\n```jsx\nimport { useSearchParams } from \"react-router-dom\";\n\nfunction Example() {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const updateParam = () => {\n        setSearchParams({ filter: \"active\" });\n    };\n\n    return (\n        <div>\n            <button onClick={updateParam}>Set Filter</button>\n            <p>Current Filter: {searchParams.get(\"filter\")}</p>\n        </div>\n    );\n}\n```\n\nThis ensures state is reflected in the URL (?filter=active) and persists across reloads.\n\nUsing `URLSearchParams` (Vanilla JS)\n\n```jsx\nconst params = new URLSearchParams(window.location.search);\nparams.set(\"theme\", \"dark\");\nwindow.history.replaceState({}, \"\", \"?\" + params.toString());\n```\n\nThis manually updates the URL without causing a page reload.\n\nIf your needs are a little more complex, then third-party utilities like [nuqs](https://github.com/47ng/nuqs) are great options for managing URL state in React with type-safety.\n\n```tsx\nimport { useQueryState } from \"nuqs\";\n\nfunction Example() {\n    const [filter, setFilter] = useQueryState(\"filter\");\n    const updateParam = () => {\n        setFilter(\"active\");\n    };\n\n    return (\n        <div>\n            <button onClick={updateParam}>Set Filter</button>\n            <p>Current Filter: {filter}</p>\n        </div>\n    );\n}\n```\n\n## Conclusion\n\nChoosing where to store state depends on its purpose and how it interacts with the application. Query parameters (?key=value) are ideal in specific scenarios where state persistence, shareability, and browser behavior are important.\n\n#### Use Query Parameters (or Path Parameters) When:\n\n-   State should persist across page reloads (e.g., filters, pagination, modal visibility).\n-   Users should be able to share the state via URL (e.g., search queries, UI settings).\n-   The state affects navigation (e.g., active tabs, sorting options).\n-   You want deep linking support (e.g., restoring UI state when returning to a page).\n\n#### Use useState When:\n\n-   The state is temporary and UI-specific (e.g., form input before submission).\n-   Storing state in the URL is unnecessary for sharing or navigation.\n-   State changes frequently and shouldn't affect navigation history.\n\n#### Use Local Storage (or Session Storage) When:\n\n-   State should persist across sessions but not be visible in the URL (e.g., user preferences, authentication tokens, form input before submission).\n-   Data should not be lost on refresh but is not meant for sharing.",
    "code": "var Component=(()=>{var tn=Object.create;var Se=Object.defineProperty;var nn=Object.getOwnPropertyDescriptor;var rn=Object.getOwnPropertyNames;var on=Object.getPrototypeOf,sn=Object.prototype.hasOwnProperty;var G=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),an=(n,e)=>{for(var r in e)Se(n,r,{get:e[r],enumerable:!0})},ot=(n,e,r,u)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let d of rn(e))!sn.call(n,d)&&d!==r&&Se(n,d,{get:()=>e[d],enumerable:!(u=nn(e,d))||u.enumerable});return n};var st=(n,e,r)=>(r=n!=null?tn(on(n)):{},ot(e||!n||!n.__esModule?Se(r,\"default\",{value:n,enumerable:!0}):r,n)),ln=n=>ot(Se({},\"__esModule\",{value:!0}),n);var Ae=G((wr,at)=>{at.exports=_jsx_runtime});var Re=G(lt=>{\"use strict\";function cn(n){return n&&n.__esModule?n:{default:n}}lt._=cn});var Fe=G(Ie=>{\"use strict\";Object.defineProperty(Ie,\"__esModule\",{value:!0});Object.defineProperty(Ie,\"warnOnce\",{enumerable:!0,get:function(){return it}});var it=n=>{};{let n=new Set;it=e=>{n.has(e)||console.warn(e),n.add(e)}}});var ct=G(Te=>{\"use strict\";Object.defineProperty(Te,\"__esModule\",{value:!0});Object.defineProperty(Te,\"getImageBlurSvg\",{enumerable:!0,get:function(){return un}});function un(n){let{widthInt:e,heightInt:r,blurWidth:u,blurHeight:d,blurDataURL:h,objectFit:g}=n,m=20,w=u?u*40:e,b=d?d*40:r,S=w&&b?\"viewBox='0 0 \"+w+\" \"+b+\"'\":\"\",E=S?\"none\":g===\"contain\"?\"xMidYMid\":g===\"cover\"?\"xMidYMid slice\":\"none\";return\"%3Csvg xmlns='http://www.w3.org/2000/svg' \"+S+\"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='\"+m+\"'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='\"+m+\"'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='\"+E+\"' style='filter: url(%23b);' href='\"+h+\"'/%3E%3C/svg%3E\"}});var Pe=G(Be=>{\"use strict\";Object.defineProperty(Be,\"__esModule\",{value:!0});function dn(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}dn(Be,{VALID_LOADERS:function(){return pn},imageConfigDefault:function(){return hn}});var pn=[\"default\",\"imgix\",\"cloudinary\",\"akamai\",\"custom\"],hn={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:\"/_next/image\",loader:\"default\",loaderFile:\"\",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:[\"image/webp\"],dangerouslyAllowSVG:!1,contentSecurityPolicy:\"script-src 'none'; frame-src 'none'; sandbox;\",contentDispositionType:\"attachment\",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}});var $e=G(De=>{\"use strict\";Object.defineProperty(De,\"__esModule\",{value:!0});Object.defineProperty(De,\"getImgProps\",{enumerable:!0,get:function(){return Rn}});var ve=Fe(),fn=ct(),En=Pe(),ut=[\"lazy\",\"eager\",void 0],yn=[\"-moz-initial\",\"fill\",\"none\",\"scale-down\",void 0];function pt(n){return n.default!==void 0}function gn(n){return n.src!==void 0}function mn(n){return!!n&&typeof n==\"object\"&&(pt(n)||gn(n))}var dt=new Map,Ne;function ke(n){return typeof n>\"u\"?n:typeof n==\"number\"?Number.isFinite(n)?n:NaN:typeof n==\"string\"&&/^[0-9]+$/.test(n)?parseInt(n,10):NaN}function _n(n,e,r){let{deviceSizes:u,allSizes:d}=n;if(r){let g=/(^|\\s)(1?\\d?\\d)vw/g,m=[];for(let w;w=g.exec(r);w)m.push(parseInt(w[2]));if(m.length){let w=Math.min(...m)*.01;return{widths:d.filter(b=>b>=u[0]*w),kind:\"w\"}}return{widths:d,kind:\"w\"}}return typeof e!=\"number\"?{widths:u,kind:\"w\"}:{widths:[...new Set([e,e*2].map(g=>d.find(m=>m>=g)||d[d.length-1]))],kind:\"x\"}}function bn(n){let{config:e,src:r,unoptimized:u,width:d,quality:h,sizes:g,loader:m}=n;if(u)return{src:r,srcSet:void 0,sizes:void 0};let{widths:w,kind:b}=_n(e,d,g),S=w.length-1;return{sizes:!g&&b===\"w\"?\"100vw\":g,srcSet:w.map((E,_)=>m({config:e,src:r,quality:h,width:E})+\" \"+(b===\"w\"?E:_+1)+b).join(\", \"),src:m({config:e,src:r,quality:h,width:w[S]})}}function Rn(n,e){let{src:r,sizes:u,unoptimized:d=!1,priority:h=!1,loading:g,className:m,quality:w,width:b,height:S,fill:E=!1,style:_,overrideSrc:i,onLoad:R,onLoadingComplete:v,placeholder:C=\"empty\",blurDataURL:p,fetchPriority:B,decoding:l=\"async\",layout:L,objectFit:F,objectPosition:$,lazyBoundary:k,lazyRoot:z,...T}=n,{imgConf:D,showAltText:re,blurComplete:H,defaultLoader:ce}=e,q,Q=D||En.imageConfigDefault;if(\"allSizes\"in Q)q=Q;else{var W;let O=[...Q.deviceSizes,...Q.imageSizes].sort((U,X)=>U-X),f=Q.deviceSizes.sort((U,X)=>U-X),A=(W=Q.qualities)==null?void 0:W.sort((U,X)=>U-X);q={...Q,allSizes:O,deviceSizes:f,qualities:A}}if(typeof ce>\"u\")throw Object.defineProperty(new Error(`images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config`),\"__NEXT_ERROR_CODE\",{value:\"E163\",enumerable:!1,configurable:!0});let ue=T.loader||ce;delete T.loader,delete T.srcSet;let Z=\"__next_img_default\"in ue;if(Z){if(q.loader===\"custom\")throw Object.defineProperty(new Error('Image with src \"'+r+`\" is missing \"loader\" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader`),\"__NEXT_ERROR_CODE\",{value:\"E252\",enumerable:!1,configurable:!0})}else{let O=ue;ue=f=>{let{config:A,...U}=f;return O(U)}}if(L){L===\"fill\"&&(E=!0);let O={intrinsic:{maxWidth:\"100%\",height:\"auto\"},responsive:{width:\"100%\",height:\"auto\"}},f={responsive:\"100vw\",fill:\"100vw\"},A=O[L];A&&(_={..._,...A});let U=f[L];U&&!u&&(u=U)}let N=\"\",I=ke(b),V=ke(S),Ee,ne;if(mn(r)){let O=pt(r)?r.default:r;if(!O.src)throw Object.defineProperty(new Error(\"An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received \"+JSON.stringify(O)),\"__NEXT_ERROR_CODE\",{value:\"E460\",enumerable:!1,configurable:!0});if(!O.height||!O.width)throw Object.defineProperty(new Error(\"An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received \"+JSON.stringify(O)),\"__NEXT_ERROR_CODE\",{value:\"E48\",enumerable:!1,configurable:!0});if(Ee=O.blurWidth,ne=O.blurHeight,p=p||O.blurDataURL,N=O.src,!E){if(!I&&!V)I=O.width,V=O.height;else if(I&&!V){let f=I/O.width;V=Math.round(O.height*f)}else if(!I&&V){let f=V/O.height;I=Math.round(O.width*f)}}}r=typeof r==\"string\"?r:N;let M=!h&&(g===\"lazy\"||typeof g>\"u\");(!r||r.startsWith(\"data:\")||r.startsWith(\"blob:\"))&&(d=!0,M=!1),q.unoptimized&&(d=!0),Z&&!q.dangerouslyAllowSVG&&r.split(\"?\",1)[0].endsWith(\".svg\")&&(d=!0);let fe=ke(w);if(q.output===\"export\"&&Z&&!d)throw Object.defineProperty(new Error(\"Image Optimization using the default loader is not compatible with `{ output: 'export' }`.\\n  Possible solutions:\\n    - Remove `{ output: 'export' }` and run \\\"next start\\\" to run server mode including the Image Optimization API.\\n    - Configure `{ images: { unoptimized: true } }` in `next.config.js` to disable the Image Optimization API.\\n  Read more: https://nextjs.org/docs/messages/export-image-api\"),\"__NEXT_ERROR_CODE\",{value:\"E500\",enumerable:!1,configurable:!0});if(!r)d=!0;else if(E){if(b)throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"width\" and \"fill\" properties. Only one should be used.'),\"__NEXT_ERROR_CODE\",{value:\"E96\",enumerable:!1,configurable:!0});if(S)throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"height\" and \"fill\" properties. Only one should be used.'),\"__NEXT_ERROR_CODE\",{value:\"E115\",enumerable:!1,configurable:!0});if(_?.position&&_.position!==\"absolute\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"fill\" and \"style.position\" properties. Images with \"fill\" always use position absolute - it cannot be modified.'),\"__NEXT_ERROR_CODE\",{value:\"E216\",enumerable:!1,configurable:!0});if(_?.width&&_.width!==\"100%\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"fill\" and \"style.width\" properties. Images with \"fill\" always use width 100% - it cannot be modified.'),\"__NEXT_ERROR_CODE\",{value:\"E73\",enumerable:!1,configurable:!0});if(_?.height&&_.height!==\"100%\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" has both \"fill\" and \"style.height\" properties. Images with \"fill\" always use height 100% - it cannot be modified.'),\"__NEXT_ERROR_CODE\",{value:\"E404\",enumerable:!1,configurable:!0})}else{if(typeof I>\"u\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" is missing required \"width\" property.'),\"__NEXT_ERROR_CODE\",{value:\"E451\",enumerable:!1,configurable:!0});if(isNaN(I))throw Object.defineProperty(new Error('Image with src \"'+r+'\" has invalid \"width\" property. Expected a numeric value in pixels but received \"'+b+'\".'),\"__NEXT_ERROR_CODE\",{value:\"E66\",enumerable:!1,configurable:!0});if(typeof V>\"u\")throw Object.defineProperty(new Error('Image with src \"'+r+'\" is missing required \"height\" property.'),\"__NEXT_ERROR_CODE\",{value:\"E397\",enumerable:!1,configurable:!0});if(isNaN(V))throw Object.defineProperty(new Error('Image with src \"'+r+'\" has invalid \"height\" property. Expected a numeric value in pixels but received \"'+S+'\".'),\"__NEXT_ERROR_CODE\",{value:\"E444\",enumerable:!1,configurable:!0});if(/^[\\x00-\\x20]/.test(r))throw Object.defineProperty(new Error('Image with src \"'+r+'\" cannot start with a space or control character. Use src.trimStart() to remove it or encodeURIComponent(src) to keep it.'),\"__NEXT_ERROR_CODE\",{value:\"E176\",enumerable:!1,configurable:!0});if(/[\\x00-\\x20]$/.test(r))throw Object.defineProperty(new Error('Image with src \"'+r+'\" cannot end with a space or control character. Use src.trimEnd() to remove it or encodeURIComponent(src) to keep it.'),\"__NEXT_ERROR_CODE\",{value:\"E21\",enumerable:!1,configurable:!0})}if(!ut.includes(g))throw Object.defineProperty(new Error('Image with src \"'+r+'\" has invalid \"loading\" property. Provided \"'+g+'\" should be one of '+ut.map(String).join(\",\")+\".\"),\"__NEXT_ERROR_CODE\",{value:\"E357\",enumerable:!1,configurable:!0});if(h&&g===\"lazy\")throw Object.defineProperty(new Error('Image with src \"'+r+`\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`),\"__NEXT_ERROR_CODE\",{value:\"E218\",enumerable:!1,configurable:!0});if(C!==\"empty\"&&C!==\"blur\"&&!C.startsWith(\"data:image/\"))throw Object.defineProperty(new Error('Image with src \"'+r+'\" has invalid \"placeholder\" property \"'+C+'\".'),\"__NEXT_ERROR_CODE\",{value:\"E431\",enumerable:!1,configurable:!0});if(C!==\"empty\"&&I&&V&&I*V<1600&&(0,ve.warnOnce)('Image with src \"'+r+'\" is smaller than 40x40. Consider removing the \"placeholder\" property to improve performance.'),C===\"blur\"&&!p){let O=[\"jpeg\",\"png\",\"webp\",\"avif\"];throw Object.defineProperty(new Error('Image with src \"'+r+`\" has \"placeholder='blur'\" property but is missing the \"blurDataURL\" property.\n        Possible solutions:\n          - Add a \"blurDataURL\" property, the contents should be a small Data URL to represent the image\n          - Change the \"src\" property to a static import with one of the supported file types: `+O.join(\",\")+` (animated images not supported)\n          - Remove the \"placeholder\" property, effectively no blur effect\n        Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url`),\"__NEXT_ERROR_CODE\",{value:\"E371\",enumerable:!1,configurable:!0})}if(\"ref\"in T&&(0,ve.warnOnce)('Image with src \"'+r+'\" is using unsupported \"ref\" property. Consider using the \"onLoad\" property instead.'),!d&&!Z){let O=ue({config:q,src:r,width:I||400,quality:fe||75}),f;try{f=new URL(O)}catch{}(O===r||f&&f.pathname===r&&!f.search)&&(0,ve.warnOnce)('Image with src \"'+r+`\" has a \"loader\" property that does not implement width. Please implement it or use the \"unoptimized\" property instead.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader-width`)}v&&(0,ve.warnOnce)('Image with src \"'+r+'\" is using deprecated \"onLoadingComplete\" property. Please use the \"onLoad\" property instead.');for(let[O,f]of Object.entries({layout:L,objectFit:F,objectPosition:$,lazyBoundary:k,lazyRoot:z}))f&&(0,ve.warnOnce)('Image with src \"'+r+'\" has legacy prop \"'+O+`\". Did you forget to run the codemod?\nRead more: https://nextjs.org/docs/messages/next-image-upgrade-to-13`);if(typeof window<\"u\"&&!Ne&&window.PerformanceObserver){Ne=new PerformanceObserver(O=>{for(let A of O.getEntries()){var f;let U=(A==null||(f=A.element)==null?void 0:f.src)||\"\",X=dt.get(U);X&&!X.priority&&X.placeholder===\"empty\"&&!X.src.startsWith(\"data:\")&&!X.src.startsWith(\"blob:\")&&(0,ve.warnOnce)('Image with src \"'+X.src+`\" was detected as the Largest Contentful Paint (LCP). Please add the \"priority\" property if this image is above the fold.\nRead more: https://nextjs.org/docs/api-reference/next/image#priority`)}});try{Ne.observe({type:\"largest-contentful-paint\",buffered:!0})}catch(O){console.error(O)}}let Y=Object.assign(E?{position:\"absolute\",height:\"100%\",width:\"100%\",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:$}:{},re?{}:{color:\"transparent\"},_),a=!H&&C!==\"empty\"?C===\"blur\"?'url(\"data:image/svg+xml;charset=utf-8,'+(0,fn.getImageBlurSvg)({widthInt:I,heightInt:V,blurWidth:Ee,blurHeight:ne,blurDataURL:p||\"\",objectFit:Y.objectFit})+'\")':'url(\"'+C+'\")':null,J=yn.includes(Y.objectFit)?Y.objectFit===\"fill\"?\"100% 100%\":\"cover\":Y.objectFit,ae=a?{backgroundSize:J,backgroundPosition:Y.objectPosition||\"50% 50%\",backgroundRepeat:\"no-repeat\",backgroundImage:a}:{};ae.backgroundImage&&C===\"blur\"&&p?.startsWith(\"/\")&&(ae.backgroundImage='url(\"'+p+'\")');let pe=bn({config:q,src:r,unoptimized:d,width:I,quality:fe,sizes:u,loader:ue});if(typeof window<\"u\"){let O;try{O=new URL(pe.src)}catch{O=new URL(pe.src,window.location.href)}dt.set(O.href,{src:r,priority:h,placeholder:C})}return{props:{...T,loading:M?\"lazy\":g,fetchPriority:B,width:I,height:V,decoding:l,className:m,style:{...Y,...ae},sizes:pe.sizes,srcSet:pe.srcSet,src:i||pe.src},meta:{unoptimized:d,priority:h,placeholder:C,fill:E}}}});var He=G(ft=>{\"use strict\";function ht(n){if(typeof WeakMap!=\"function\")return null;var e=new WeakMap,r=new WeakMap;return(ht=function(u){return u?r:e})(n)}function wn(n,e){if(!e&&n&&n.__esModule)return n;if(n===null||typeof n!=\"object\"&&typeof n!=\"function\")return{default:n};var r=ht(e);if(r&&r.has(n))return r.get(n);var u={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if(h!==\"default\"&&Object.prototype.hasOwnProperty.call(n,h)){var g=d?Object.getOwnPropertyDescriptor(n,h):null;g&&(g.get||g.set)?Object.defineProperty(u,h,g):u[h]=n[h]}return u.default=n,r&&r.set(n,u),u}ft._=wn});var _e=G((Fr,Et)=>{Et.exports=React});var gt=G((Pr,yt)=>{yt.exports=ReactDOM});var _t=G(qe=>{\"use strict\";Object.defineProperty(qe,\"__esModule\",{value:!0});Object.defineProperty(qe,\"default\",{enumerable:!0,get:function(){return On}});var je=_e(),Me=typeof window>\"u\",mt=Me?()=>{}:je.useLayoutEffect,vn=Me?()=>{}:je.useEffect;function On(n){let{headManager:e,reduceComponentsToState:r}=n;function u(){if(e&&e.mountedInstances){let h=je.Children.toArray(Array.from(e.mountedInstances).filter(Boolean));e.updateHead(r(h,n))}}if(Me){var d;e==null||(d=e.mountedInstances)==null||d.add(n.children),u()}return mt(()=>{var h;return e==null||(h=e.mountedInstances)==null||h.add(n.children),()=>{var g;e==null||(g=e.mountedInstances)==null||g.delete(n.children)}}),mt(()=>(e&&(e._pendingUpdate=u),()=>{e&&(e._pendingUpdate=u)})),vn(()=>(e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null),()=>{e&&e._pendingUpdate&&(e._pendingUpdate(),e._pendingUpdate=null)})),null}});var Rt=G(Ue=>{\"use strict\";Object.defineProperty(Ue,\"__esModule\",{value:!0});Object.defineProperty(Ue,\"AmpStateContext\",{enumerable:!0,get:function(){return bt}});var Cn=Re(),xn=Cn._(_e()),bt=xn.default.createContext({});bt.displayName=\"AmpStateContext\"});var vt=G(ze=>{\"use strict\";Object.defineProperty(ze,\"__esModule\",{value:!0});Object.defineProperty(ze,\"HeadManagerContext\",{enumerable:!0,get:function(){return wt}});var Sn=Re(),An=Sn._(_e()),wt=An.default.createContext({});wt.displayName=\"HeadManagerContext\"});var Ot=G(Xe=>{\"use strict\";Object.defineProperty(Xe,\"__esModule\",{value:!0});Object.defineProperty(Xe,\"isInAmpMode\",{enumerable:!0,get:function(){return Fn}});function Fn(n){let{ampFirst:e=!1,hybrid:r=!1,hasQuery:u=!1}=n===void 0?{}:n;return e||r&&u}});var Ft=G((ye,At)=>{\"use client\";\"use strict\";Object.defineProperty(ye,\"__esModule\",{value:!0});function Pn(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}Pn(ye,{default:function(){return Mn},defaultHead:function(){return St}});var Ln=Re(),In=He(),Ge=Ae(),Oe=In._(_e()),Tn=Ln._(_t()),Bn=Rt(),Nn=vt(),kn=Ot(),Ct=Fe();function St(n){n===void 0&&(n=!1);let e=[(0,Ge.jsx)(\"meta\",{charSet:\"utf-8\"},\"charset\")];return n||e.push((0,Ge.jsx)(\"meta\",{name:\"viewport\",content:\"width=device-width\"},\"viewport\")),e}function Dn(n,e){return typeof e==\"string\"||typeof e==\"number\"?n:e.type===Oe.default.Fragment?n.concat(Oe.default.Children.toArray(e.props.children).reduce((r,u)=>typeof u==\"string\"||typeof u==\"number\"?r:r.concat(u),[])):n.concat(e)}var xt=[\"name\",\"httpEquiv\",\"charSet\",\"itemProp\"];function $n(){let n=new Set,e=new Set,r=new Set,u={};return d=>{let h=!0,g=!1;if(d.key&&typeof d.key!=\"number\"&&d.key.indexOf(\"$\")>0){g=!0;let m=d.key.slice(d.key.indexOf(\"$\")+1);n.has(m)?h=!1:n.add(m)}switch(d.type){case\"title\":case\"base\":e.has(d.type)?h=!1:e.add(d.type);break;case\"meta\":for(let m=0,w=xt.length;m<w;m++){let b=xt[m];if(d.props.hasOwnProperty(b))if(b===\"charSet\")r.has(b)?h=!1:r.add(b);else{let S=d.props[b],E=u[b]||new Set;(b!==\"name\"||!g)&&E.has(S)?h=!1:(E.add(S),u[b]=E)}}break}return h}}function Hn(n,e){let{inAmpMode:r}=e;return n.reduce(Dn,[]).reverse().concat(St(r).reverse()).filter($n()).reverse().map((u,d)=>{let h=u.key||d;if(u.type===\"script\"&&u.props.type!==\"application/ld+json\"){let g=u.props.src?'<script> tag with src=\"'+u.props.src+'\"':\"inline <script>\";(0,Ct.warnOnce)(\"Do not add <script> tags using next/head (see \"+g+`). Use next/script instead. \nSee more info here: https://nextjs.org/docs/messages/no-script-tags-in-head-component`)}else u.type===\"link\"&&u.props.rel===\"stylesheet\"&&(0,Ct.warnOnce)('Do not add stylesheets using next/head (see <link rel=\"stylesheet\"> tag with href=\"'+u.props.href+`\"). Use Document instead. \nSee more info here: https://nextjs.org/docs/messages/no-stylesheets-in-head-component`);return Oe.default.cloneElement(u,{key:h})})}function jn(n){let{children:e}=n,r=(0,Oe.useContext)(Bn.AmpStateContext),u=(0,Oe.useContext)(Nn.HeadManagerContext);return(0,Ge.jsx)(Tn.default,{reduceComponentsToState:Hn,headManager:u,inAmpMode:(0,kn.isInAmpMode)(r),children:e})}var Mn=jn;(typeof ye.default==\"function\"||typeof ye.default==\"object\"&&ye.default!==null)&&typeof ye.default.__esModule>\"u\"&&(Object.defineProperty(ye.default,\"__esModule\",{value:!0}),Object.assign(ye.default,ye),At.exports=ye.default)});var Lt=G(We=>{\"use strict\";Object.defineProperty(We,\"__esModule\",{value:!0});Object.defineProperty(We,\"ImageConfigContext\",{enumerable:!0,get:function(){return Pt}});var qn=Re(),Un=qn._(_e()),zn=Pe(),Pt=Un.default.createContext(zn.imageConfigDefault);Pt.displayName=\"ImageConfigContext\"});var Tt=G(Ve=>{\"use strict\";Object.defineProperty(Ve,\"__esModule\",{value:!0});Object.defineProperty(Ve,\"RouterContext\",{enumerable:!0,get:function(){return It}});var Xn=Re(),Gn=Xn._(_e()),It=Gn.default.createContext(null);It.displayName=\"RouterContext\"});var Ke=G((Dr,Bt)=>{(()=>{\"use strict\";var n={170:(d,h,g)=>{let m=g(510),w=()=>{if(typeof navigator<\"u\"&&navigator.platform){let S=navigator.platform.toLowerCase();return S===\"win32\"||S===\"windows\"}return typeof process<\"u\"&&process.platform?process.platform===\"win32\":!1};function b(S,E,_=!1){return E&&(E.windows===null||E.windows===void 0)&&(E={...E,windows:w()}),m(S,E,_)}Object.assign(b,m),d.exports=b},154:d=>{let h=\"\\\\\\\\/\",g=`[^${h}]`,m=\"\\\\.\",w=\"\\\\+\",b=\"\\\\?\",S=\"\\\\/\",E=\"(?=.)\",_=\"[^/]\",i=`(?:${S}|$)`,R=`(?:^|${S})`,v=`${m}{1,2}${i}`,C=`(?!${m})`,p=`(?!${R}${v})`,B=`(?!${m}{0,1}${i})`,l=`(?!${v})`,L=`[^.${S}]`,F=`${_}*?`,k={DOT_LITERAL:m,PLUS_LITERAL:w,QMARK_LITERAL:b,SLASH_LITERAL:S,ONE_CHAR:E,QMARK:_,END_ANCHOR:i,DOTS_SLASH:v,NO_DOT:C,NO_DOTS:p,NO_DOT_SLASH:B,NO_DOTS_SLASH:l,QMARK_NO_DOT:L,STAR:F,START_ANCHOR:R,SEP:\"/\"},z={...k,SLASH_LITERAL:`[${h}]`,QMARK:g,STAR:`${g}*?`,DOTS_SLASH:`${m}{1,2}(?:[${h}]|$)`,NO_DOT:`(?!${m})`,NO_DOTS:`(?!(?:^|[${h}])${m}{1,2}(?:[${h}]|$))`,NO_DOT_SLASH:`(?!${m}{0,1}(?:[${h}]|$))`,NO_DOTS_SLASH:`(?!${m}{1,2}(?:[${h}]|$))`,QMARK_NO_DOT:`[^.${h}]`,START_ANCHOR:`(?:^|[${h}])`,END_ANCHOR:`(?:[${h}]|$)`,SEP:\"\\\\\"},T={alnum:\"a-zA-Z0-9\",alpha:\"a-zA-Z\",ascii:\"\\\\x00-\\\\x7F\",blank:\" \\\\t\",cntrl:\"\\\\x00-\\\\x1F\\\\x7F\",digit:\"0-9\",graph:\"\\\\x21-\\\\x7E\",lower:\"a-z\",print:\"\\\\x20-\\\\x7E \",punct:\"\\\\-!\\\"#$%&'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~\",space:\" \\\\t\\\\r\\\\n\\\\v\\\\f\",upper:\"A-Z\",word:\"A-Za-z0-9_\",xdigit:\"A-Fa-f0-9\"};d.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:T,REGEX_BACKSLASH:/\\\\(?![*+?^${}(|)[\\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\\].,$*+?^{}()|\\\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\\\?)((\\W)(\\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,REPLACEMENTS:{\"***\":\"*\",\"**/**\":\"**\",\"**/**/**\":\"**\"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars(D){return{\"!\":{type:\"negate\",open:\"(?:(?!(?:\",close:`))${D.STAR})`},\"?\":{type:\"qmark\",open:\"(?:\",close:\")?\"},\"+\":{type:\"plus\",open:\"(?:\",close:\")+\"},\"*\":{type:\"star\",open:\"(?:\",close:\")*\"},\"@\":{type:\"at\",open:\"(?:\",close:\")\"}}},globChars(D){return D===!0?z:k}}},697:(d,h,g)=>{let m=g(154),w=g(96),{MAX_LENGTH:b,POSIX_REGEX_SOURCE:S,REGEX_NON_SPECIAL_CHARS:E,REGEX_SPECIAL_CHARS_BACKREF:_,REPLACEMENTS:i}=m,R=(p,B)=>{if(typeof B.expandRange==\"function\")return B.expandRange(...p,B);p.sort();let l=`[${p.join(\"-\")}]`;try{new RegExp(l)}catch{return p.map(F=>w.escapeRegex(F)).join(\"..\")}return l},v=(p,B)=>`Missing ${p}: \"${B}\" - use \"\\\\\\\\${B}\" to match literal characters`,C=(p,B)=>{if(typeof p!=\"string\")throw new TypeError(\"Expected a string\");p=i[p]||p;let l={...B},L=typeof l.maxLength==\"number\"?Math.min(b,l.maxLength):b,F=p.length;if(F>L)throw new SyntaxError(`Input length: ${F}, exceeds maximum allowed length: ${L}`);let $={type:\"bos\",value:\"\",output:l.prepend||\"\"},k=[$],z=l.capture?\"\":\"?:\",T=m.globChars(l.windows),D=m.extglobChars(T),{DOT_LITERAL:re,PLUS_LITERAL:H,SLASH_LITERAL:ce,ONE_CHAR:q,DOTS_SLASH:Q,NO_DOT:W,NO_DOT_SLASH:ue,NO_DOTS_SLASH:Z,QMARK:N,QMARK_NO_DOT:I,STAR:V,START_ANCHOR:Ee}=T,ne=y=>`(${z}(?:(?!${Ee}${y.dot?Q:re}).)*?)`,M=l.dot?\"\":W,fe=l.dot?N:I,Y=l.bash===!0?ne(l):V;l.capture&&(Y=`(${Y})`),typeof l.noext==\"boolean\"&&(l.noextglob=l.noext);let a={input:p,index:-1,start:0,dot:l.dot===!0,consumed:\"\",output:\"\",prefix:\"\",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:k};p=w.removePrefix(p,a),F=p.length;let J=[],ae=[],pe=[],o=$,s,O=()=>a.index===F-1,f=a.peek=(y=1)=>p[a.index+y],A=a.advance=()=>p[++a.index]||\"\",U=()=>p.slice(a.index+1),X=(y=\"\",j=0)=>{a.consumed+=y,a.index+=j},oe=y=>{a.output+=y.output!=null?y.output:y.value,X(y.value)},te=()=>{let y=1;for(;f()===\"!\"&&(f(2)!==\"(\"||f(3)===\"?\");)A(),a.start++,y++;return y%2===0?!1:(a.negated=!0,a.start++,!0)},be=y=>{a[y]++,pe.push(y)},de=y=>{a[y]--,pe.pop()},x=y=>{if(o.type===\"globstar\"){let j=a.braces>0&&(y.type===\"comma\"||y.type===\"brace\"),c=y.extglob===!0||J.length&&(y.type===\"pipe\"||y.type===\"paren\");y.type!==\"slash\"&&y.type!==\"paren\"&&!j&&!c&&(a.output=a.output.slice(0,-o.output.length),o.type=\"star\",o.value=\"*\",o.output=Y,a.output+=o.output)}if(J.length&&y.type!==\"paren\"&&(J[J.length-1].inner+=y.value),(y.value||y.output)&&oe(y),o&&o.type===\"text\"&&y.type===\"text\"){o.output=(o.output||o.value)+y.value,o.value+=y.value;return}y.prev=o,k.push(y),o=y},le=(y,j)=>{let c={...D[j],conditions:1,inner:\"\"};c.prev=o,c.parens=a.parens,c.output=a.output;let P=(l.capture?\"(\":\"\")+c.open;be(\"parens\"),x({type:y,value:j,output:a.output?\"\":q}),x({type:\"paren\",extglob:!0,value:A(),output:P}),J.push(c)},se=y=>{let j=y.close+(l.capture?\")\":\"\"),c;if(y.type===\"negate\"){let P=Y;if(y.inner&&y.inner.length>1&&y.inner.includes(\"/\")&&(P=ne(l)),(P!==Y||O()||/^\\)+$/.test(U()))&&(j=y.close=`)$))${P}`),y.inner.includes(\"*\")&&(c=U())&&/^\\.[^\\\\/.]+$/.test(c)){let K=C(c,{...B,fastpaths:!1}).output;j=y.close=`)${K})${P})`}y.prev.type===\"bos\"&&(a.negatedExtglob=!0)}x({type:\"paren\",extglob:!0,value:s,output:j}),de(\"parens\")};if(l.fastpaths!==!1&&!/(^[*!]|[/()[\\]{}\"])/.test(p)){let y=!1,j=p.replace(_,(c,P,K,ie,ee,Le)=>ie===\"\\\\\"?(y=!0,c):ie===\"?\"?P?P+ie+(ee?N.repeat(ee.length):\"\"):Le===0?fe+(ee?N.repeat(ee.length):\"\"):N.repeat(K.length):ie===\".\"?re.repeat(K.length):ie===\"*\"?P?P+ie+(ee?Y:\"\"):Y:P?c:`\\\\${c}`);return y===!0&&(l.unescape===!0?j=j.replace(/\\\\/g,\"\"):j=j.replace(/\\\\+/g,c=>c.length%2===0?\"\\\\\\\\\":c?\"\\\\\":\"\")),j===p&&l.contains===!0?(a.output=p,a):(a.output=w.wrapOutput(j,a,B),a)}for(;!O();){if(s=A(),s===\"\\0\")continue;if(s===\"\\\\\"){let c=f();if(c===\"/\"&&l.bash!==!0||c===\".\"||c===\";\")continue;if(!c){s+=\"\\\\\",x({type:\"text\",value:s});continue}let P=/^\\\\+/.exec(U()),K=0;if(P&&P[0].length>2&&(K=P[0].length,a.index+=K,K%2!==0&&(s+=\"\\\\\")),l.unescape===!0?s=A():s+=A(),a.brackets===0){x({type:\"text\",value:s});continue}}if(a.brackets>0&&(s!==\"]\"||o.value===\"[\"||o.value===\"[^\")){if(l.posix!==!1&&s===\":\"){let c=o.value.slice(1);if(c.includes(\"[\")&&(o.posix=!0,c.includes(\":\"))){let P=o.value.lastIndexOf(\"[\"),K=o.value.slice(0,P),ie=o.value.slice(P+2),ee=S[ie];if(ee){o.value=K+ee,a.backtrack=!0,A(),!$.output&&k.indexOf(o)===1&&($.output=q);continue}}}(s===\"[\"&&f()!==\":\"||s===\"-\"&&f()===\"]\")&&(s=`\\\\${s}`),s===\"]\"&&(o.value===\"[\"||o.value===\"[^\")&&(s=`\\\\${s}`),l.posix===!0&&s===\"!\"&&o.value===\"[\"&&(s=\"^\"),o.value+=s,oe({value:s});continue}if(a.quotes===1&&s!=='\"'){s=w.escapeRegex(s),o.value+=s,oe({value:s});continue}if(s==='\"'){a.quotes=a.quotes===1?0:1,l.keepQuotes===!0&&x({type:\"text\",value:s});continue}if(s===\"(\"){be(\"parens\"),x({type:\"paren\",value:s});continue}if(s===\")\"){if(a.parens===0&&l.strictBrackets===!0)throw new SyntaxError(v(\"opening\",\"(\"));let c=J[J.length-1];if(c&&a.parens===c.parens+1){se(J.pop());continue}x({type:\"paren\",value:s,output:a.parens?\")\":\"\\\\)\"}),de(\"parens\");continue}if(s===\"[\"){if(l.nobracket===!0||!U().includes(\"]\")){if(l.nobracket!==!0&&l.strictBrackets===!0)throw new SyntaxError(v(\"closing\",\"]\"));s=`\\\\${s}`}else be(\"brackets\");x({type:\"bracket\",value:s});continue}if(s===\"]\"){if(l.nobracket===!0||o&&o.type===\"bracket\"&&o.value.length===1){x({type:\"text\",value:s,output:`\\\\${s}`});continue}if(a.brackets===0){if(l.strictBrackets===!0)throw new SyntaxError(v(\"opening\",\"[\"));x({type:\"text\",value:s,output:`\\\\${s}`});continue}de(\"brackets\");let c=o.value.slice(1);if(o.posix!==!0&&c[0]===\"^\"&&!c.includes(\"/\")&&(s=`/${s}`),o.value+=s,oe({value:s}),l.literalBrackets===!1||w.hasRegexChars(c))continue;let P=w.escapeRegex(o.value);if(a.output=a.output.slice(0,-o.value.length),l.literalBrackets===!0){a.output+=P,o.value=P;continue}o.value=`(${z}${P}|${o.value})`,a.output+=o.value;continue}if(s===\"{\"&&l.nobrace!==!0){be(\"braces\");let c={type:\"brace\",value:s,output:\"(\",outputIndex:a.output.length,tokensIndex:a.tokens.length};ae.push(c),x(c);continue}if(s===\"}\"){let c=ae[ae.length-1];if(l.nobrace===!0||!c){x({type:\"text\",value:s,output:s});continue}let P=\")\";if(c.dots===!0){let K=k.slice(),ie=[];for(let ee=K.length-1;ee>=0&&(k.pop(),K[ee].type!==\"brace\");ee--)K[ee].type!==\"dots\"&&ie.unshift(K[ee].value);P=R(ie,l),a.backtrack=!0}if(c.comma!==!0&&c.dots!==!0){let K=a.output.slice(0,c.outputIndex),ie=a.tokens.slice(c.tokensIndex);c.value=c.output=\"\\\\{\",s=P=\"\\\\}\",a.output=K;for(let ee of ie)a.output+=ee.output||ee.value}x({type:\"brace\",value:s,output:P}),de(\"braces\"),ae.pop();continue}if(s===\"|\"){J.length>0&&J[J.length-1].conditions++,x({type:\"text\",value:s});continue}if(s===\",\"){let c=s,P=ae[ae.length-1];P&&pe[pe.length-1]===\"braces\"&&(P.comma=!0,c=\"|\"),x({type:\"comma\",value:s,output:c});continue}if(s===\"/\"){if(o.type===\"dot\"&&a.index===a.start+1){a.start=a.index+1,a.consumed=\"\",a.output=\"\",k.pop(),o=$;continue}x({type:\"slash\",value:s,output:ce});continue}if(s===\".\"){if(a.braces>0&&o.type===\"dot\"){o.value===\".\"&&(o.output=re);let c=ae[ae.length-1];o.type=\"dots\",o.output+=s,o.value+=s,c.dots=!0;continue}if(a.braces+a.parens===0&&o.type!==\"bos\"&&o.type!==\"slash\"){x({type:\"text\",value:s,output:re});continue}x({type:\"dot\",value:s,output:re});continue}if(s===\"?\"){if(!(o&&o.value===\"(\")&&l.noextglob!==!0&&f()===\"(\"&&f(2)!==\"?\"){le(\"qmark\",s);continue}if(o&&o.type===\"paren\"){let P=f(),K=s;(o.value===\"(\"&&!/[!=<:]/.test(P)||P===\"<\"&&!/<([!=]|\\w+>)/.test(U()))&&(K=`\\\\${s}`),x({type:\"text\",value:s,output:K});continue}if(l.dot!==!0&&(o.type===\"slash\"||o.type===\"bos\")){x({type:\"qmark\",value:s,output:I});continue}x({type:\"qmark\",value:s,output:N});continue}if(s===\"!\"){if(l.noextglob!==!0&&f()===\"(\"&&(f(2)!==\"?\"||!/[!=<:]/.test(f(3)))){le(\"negate\",s);continue}if(l.nonegate!==!0&&a.index===0){te();continue}}if(s===\"+\"){if(l.noextglob!==!0&&f()===\"(\"&&f(2)!==\"?\"){le(\"plus\",s);continue}if(o&&o.value===\"(\"||l.regex===!1){x({type:\"plus\",value:s,output:H});continue}if(o&&(o.type===\"bracket\"||o.type===\"paren\"||o.type===\"brace\")||a.parens>0){x({type:\"plus\",value:s});continue}x({type:\"plus\",value:H});continue}if(s===\"@\"){if(l.noextglob!==!0&&f()===\"(\"&&f(2)!==\"?\"){x({type:\"at\",extglob:!0,value:s,output:\"\"});continue}x({type:\"text\",value:s});continue}if(s!==\"*\"){(s===\"$\"||s===\"^\")&&(s=`\\\\${s}`);let c=E.exec(U());c&&(s+=c[0],a.index+=c[0].length),x({type:\"text\",value:s});continue}if(o&&(o.type===\"globstar\"||o.star===!0)){o.type=\"star\",o.star=!0,o.value+=s,o.output=Y,a.backtrack=!0,a.globstar=!0,X(s);continue}let y=U();if(l.noextglob!==!0&&/^\\([^?]/.test(y)){le(\"star\",s);continue}if(o.type===\"star\"){if(l.noglobstar===!0){X(s);continue}let c=o.prev,P=c.prev,K=c.type===\"slash\"||c.type===\"bos\",ie=P&&(P.type===\"star\"||P.type===\"globstar\");if(l.bash===!0&&(!K||y[0]&&y[0]!==\"/\")){x({type:\"star\",value:s,output:\"\"});continue}let ee=a.braces>0&&(c.type===\"comma\"||c.type===\"brace\"),Le=J.length&&(c.type===\"pipe\"||c.type===\"paren\");if(!K&&c.type!==\"paren\"&&!ee&&!Le){x({type:\"star\",value:s,output:\"\"});continue}for(;y.slice(0,3)===\"/**\";){let xe=p[a.index+4];if(xe&&xe!==\"/\")break;y=y.slice(3),X(\"/**\",3)}if(c.type===\"bos\"&&O()){o.type=\"globstar\",o.value+=s,o.output=ne(l),a.output=o.output,a.globstar=!0,X(s);continue}if(c.type===\"slash\"&&c.prev.type!==\"bos\"&&!ie&&O()){a.output=a.output.slice(0,-(c.output+o.output).length),c.output=`(?:${c.output}`,o.type=\"globstar\",o.output=ne(l)+(l.strictSlashes?\")\":\"|$)\"),o.value+=s,a.globstar=!0,a.output+=c.output+o.output,X(s);continue}if(c.type===\"slash\"&&c.prev.type!==\"bos\"&&y[0]===\"/\"){let xe=y[1]!==void 0?\"|$\":\"\";a.output=a.output.slice(0,-(c.output+o.output).length),c.output=`(?:${c.output}`,o.type=\"globstar\",o.output=`${ne(l)}${ce}|${ce}${xe})`,o.value+=s,a.output+=c.output+o.output,a.globstar=!0,X(s+A()),x({type:\"slash\",value:\"/\",output:\"\"});continue}if(c.type===\"bos\"&&y[0]===\"/\"){o.type=\"globstar\",o.value+=s,o.output=`(?:^|${ce}|${ne(l)}${ce})`,a.output=o.output,a.globstar=!0,X(s+A()),x({type:\"slash\",value:\"/\",output:\"\"});continue}a.output=a.output.slice(0,-o.output.length),o.type=\"globstar\",o.output=ne(l),o.value+=s,a.output+=o.output,a.globstar=!0,X(s);continue}let j={type:\"star\",value:s,output:Y};if(l.bash===!0){j.output=\".*?\",(o.type===\"bos\"||o.type===\"slash\")&&(j.output=M+j.output),x(j);continue}if(o&&(o.type===\"bracket\"||o.type===\"paren\")&&l.regex===!0){j.output=s,x(j);continue}(a.index===a.start||o.type===\"slash\"||o.type===\"dot\")&&(o.type===\"dot\"?(a.output+=ue,o.output+=ue):l.dot===!0?(a.output+=Z,o.output+=Z):(a.output+=M,o.output+=M),f()!==\"*\"&&(a.output+=q,o.output+=q)),x(j)}for(;a.brackets>0;){if(l.strictBrackets===!0)throw new SyntaxError(v(\"closing\",\"]\"));a.output=w.escapeLast(a.output,\"[\"),de(\"brackets\")}for(;a.parens>0;){if(l.strictBrackets===!0)throw new SyntaxError(v(\"closing\",\")\"));a.output=w.escapeLast(a.output,\"(\"),de(\"parens\")}for(;a.braces>0;){if(l.strictBrackets===!0)throw new SyntaxError(v(\"closing\",\"}\"));a.output=w.escapeLast(a.output,\"{\"),de(\"braces\")}if(l.strictSlashes!==!0&&(o.type===\"star\"||o.type===\"bracket\")&&x({type:\"maybe_slash\",value:\"\",output:`${ce}?`}),a.backtrack===!0){a.output=\"\";for(let y of a.tokens)a.output+=y.output!=null?y.output:y.value,y.suffix&&(a.output+=y.suffix)}return a};C.fastpaths=(p,B)=>{let l={...B},L=typeof l.maxLength==\"number\"?Math.min(b,l.maxLength):b,F=p.length;if(F>L)throw new SyntaxError(`Input length: ${F}, exceeds maximum allowed length: ${L}`);p=i[p]||p;let{DOT_LITERAL:$,SLASH_LITERAL:k,ONE_CHAR:z,DOTS_SLASH:T,NO_DOT:D,NO_DOTS:re,NO_DOTS_SLASH:H,STAR:ce,START_ANCHOR:q}=m.globChars(l.windows),Q=l.dot?re:D,W=l.dot?H:D,ue=l.capture?\"\":\"?:\",Z={negated:!1,prefix:\"\"},N=l.bash===!0?\".*?\":ce;l.capture&&(N=`(${N})`);let I=M=>M.noglobstar===!0?N:`(${ue}(?:(?!${q}${M.dot?T:$}).)*?)`,V=M=>{switch(M){case\"*\":return`${Q}${z}${N}`;case\".*\":return`${$}${z}${N}`;case\"*.*\":return`${Q}${N}${$}${z}${N}`;case\"*/*\":return`${Q}${N}${k}${z}${W}${N}`;case\"**\":return Q+I(l);case\"**/*\":return`(?:${Q}${I(l)}${k})?${W}${z}${N}`;case\"**/*.*\":return`(?:${Q}${I(l)}${k})?${W}${N}${$}${z}${N}`;case\"**/.*\":return`(?:${Q}${I(l)}${k})?${$}${z}${N}`;default:{let fe=/^(.*?)\\.(\\w+)$/.exec(M);if(!fe)return;let Y=V(fe[1]);return Y?Y+$+fe[2]:void 0}}},Ee=w.removePrefix(p,Z),ne=V(Ee);return ne&&l.strictSlashes!==!0&&(ne+=`${k}?`),ne},d.exports=C},510:(d,h,g)=>{let m=g(716),w=g(697),b=g(96),S=g(154),E=i=>i&&typeof i==\"object\"&&!Array.isArray(i),_=(i,R,v=!1)=>{if(Array.isArray(i)){let k=i.map(T=>_(T,R,v));return T=>{for(let D of k){let re=D(T);if(re)return re}return!1}}let C=E(i)&&i.tokens&&i.input;if(i===\"\"||typeof i!=\"string\"&&!C)throw new TypeError(\"Expected pattern to be a non-empty string\");let p=R||{},B=p.windows,l=C?_.compileRe(i,R):_.makeRe(i,R,!1,!0),L=l.state;delete l.state;let F=()=>!1;if(p.ignore){let k={...R,ignore:null,onMatch:null,onResult:null};F=_(p.ignore,k,v)}let $=(k,z=!1)=>{let{isMatch:T,match:D,output:re}=_.test(k,l,R,{glob:i,posix:B}),H={glob:i,state:L,regex:l,posix:B,input:k,output:re,match:D,isMatch:T};return typeof p.onResult==\"function\"&&p.onResult(H),T===!1?(H.isMatch=!1,z?H:!1):F(k)?(typeof p.onIgnore==\"function\"&&p.onIgnore(H),H.isMatch=!1,z?H:!1):(typeof p.onMatch==\"function\"&&p.onMatch(H),z?H:!0)};return v&&($.state=L),$};_.test=(i,R,v,{glob:C,posix:p}={})=>{if(typeof i!=\"string\")throw new TypeError(\"Expected input to be a string\");if(i===\"\")return{isMatch:!1,output:\"\"};let B=v||{},l=B.format||(p?b.toPosixSlashes:null),L=i===C,F=L&&l?l(i):i;return L===!1&&(F=l?l(i):i,L=F===C),(L===!1||B.capture===!0)&&(B.matchBase===!0||B.basename===!0?L=_.matchBase(i,R,v,p):L=R.exec(F)),{isMatch:!!L,match:L,output:F}},_.matchBase=(i,R,v)=>(R instanceof RegExp?R:_.makeRe(R,v)).test(b.basename(i)),_.isMatch=(i,R,v)=>_(R,v)(i),_.parse=(i,R)=>Array.isArray(i)?i.map(v=>_.parse(v,R)):w(i,{...R,fastpaths:!1}),_.scan=(i,R)=>m(i,R),_.compileRe=(i,R,v=!1,C=!1)=>{if(v===!0)return i.output;let p=R||{},B=p.contains?\"\":\"^\",l=p.contains?\"\":\"$\",L=`${B}(?:${i.output})${l}`;i&&i.negated===!0&&(L=`^(?!${L}).*$`);let F=_.toRegex(L,R);return C===!0&&(F.state=i),F},_.makeRe=(i,R={},v=!1,C=!1)=>{if(!i||typeof i!=\"string\")throw new TypeError(\"Expected a non-empty string\");let p={negated:!1,fastpaths:!0};return R.fastpaths!==!1&&(i[0]===\".\"||i[0]===\"*\")&&(p.output=w.fastpaths(i,R)),p.output||(p=w(i,R)),_.compileRe(p,R,v,C)},_.toRegex=(i,R)=>{try{let v=R||{};return new RegExp(i,v.flags||(v.nocase?\"i\":\"\"))}catch(v){if(R&&R.debug===!0)throw v;return/$^/}},_.constants=S,d.exports=_},716:(d,h,g)=>{let m=g(96),{CHAR_ASTERISK:w,CHAR_AT:b,CHAR_BACKWARD_SLASH:S,CHAR_COMMA:E,CHAR_DOT:_,CHAR_EXCLAMATION_MARK:i,CHAR_FORWARD_SLASH:R,CHAR_LEFT_CURLY_BRACE:v,CHAR_LEFT_PARENTHESES:C,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_PLUS:B,CHAR_QUESTION_MARK:l,CHAR_RIGHT_CURLY_BRACE:L,CHAR_RIGHT_PARENTHESES:F,CHAR_RIGHT_SQUARE_BRACKET:$}=g(154),k=D=>D===R||D===S,z=D=>{D.isPrefix!==!0&&(D.depth=D.isGlobstar?1/0:1)},T=(D,re)=>{let H=re||{},ce=D.length-1,q=H.parts===!0||H.scanToEnd===!0,Q=[],W=[],ue=[],Z=D,N=-1,I=0,V=0,Ee=!1,ne=!1,M=!1,fe=!1,Y=!1,a=!1,J=!1,ae=!1,pe=!1,o=!1,s=0,O,f,A={value:\"\",depth:0,isGlob:!1},U=()=>N>=ce,X=()=>Z.charCodeAt(N+1),oe=()=>(O=f,Z.charCodeAt(++N));for(;N<ce;){f=oe();let le;if(f===S){J=A.backslashes=!0,f=oe(),f===v&&(a=!0);continue}if(a===!0||f===v){for(s++;U()!==!0&&(f=oe());){if(f===S){J=A.backslashes=!0,oe();continue}if(f===v){s++;continue}if(a!==!0&&f===_&&(f=oe())===_){if(Ee=A.isBrace=!0,M=A.isGlob=!0,o=!0,q===!0)continue;break}if(a!==!0&&f===E){if(Ee=A.isBrace=!0,M=A.isGlob=!0,o=!0,q===!0)continue;break}if(f===L&&(s--,s===0)){a=!1,Ee=A.isBrace=!0,o=!0;break}}if(q===!0)continue;break}if(f===R){if(Q.push(N),W.push(A),A={value:\"\",depth:0,isGlob:!1},o===!0)continue;if(O===_&&N===I+1){I+=2;continue}V=N+1;continue}if(H.noext!==!0&&(f===B||f===b||f===w||f===l||f===i)===!0&&X()===C){if(M=A.isGlob=!0,fe=A.isExtglob=!0,o=!0,f===i&&N===I&&(pe=!0),q===!0){for(;U()!==!0&&(f=oe());){if(f===S){J=A.backslashes=!0,f=oe();continue}if(f===F){M=A.isGlob=!0,o=!0;break}}continue}break}if(f===w){if(O===w&&(Y=A.isGlobstar=!0),M=A.isGlob=!0,o=!0,q===!0)continue;break}if(f===l){if(M=A.isGlob=!0,o=!0,q===!0)continue;break}if(f===p){for(;U()!==!0&&(le=oe());){if(le===S){J=A.backslashes=!0,oe();continue}if(le===$){ne=A.isBracket=!0,M=A.isGlob=!0,o=!0;break}}if(q===!0)continue;break}if(H.nonegate!==!0&&f===i&&N===I){ae=A.negated=!0,I++;continue}if(H.noparen!==!0&&f===C){if(M=A.isGlob=!0,q===!0){for(;U()!==!0&&(f=oe());){if(f===C){J=A.backslashes=!0,f=oe();continue}if(f===F){o=!0;break}}continue}break}if(M===!0){if(o=!0,q===!0)continue;break}}H.noext===!0&&(fe=!1,M=!1);let te=Z,be=\"\",de=\"\";I>0&&(be=Z.slice(0,I),Z=Z.slice(I),V-=I),te&&M===!0&&V>0?(te=Z.slice(0,V),de=Z.slice(V)):M===!0?(te=\"\",de=Z):te=Z,te&&te!==\"\"&&te!==\"/\"&&te!==Z&&k(te.charCodeAt(te.length-1))&&(te=te.slice(0,-1)),H.unescape===!0&&(de&&(de=m.removeBackslashes(de)),te&&J===!0&&(te=m.removeBackslashes(te)));let x={prefix:be,input:D,start:I,base:te,glob:de,isBrace:Ee,isBracket:ne,isGlob:M,isExtglob:fe,isGlobstar:Y,negated:ae,negatedExtglob:pe};if(H.tokens===!0&&(x.maxDepth=0,k(f)||W.push(A),x.tokens=W),H.parts===!0||H.tokens===!0){let le;for(let se=0;se<Q.length;se++){let y=le?le+1:I,j=Q[se],c=D.slice(y,j);H.tokens&&(se===0&&I!==0?(W[se].isPrefix=!0,W[se].value=be):W[se].value=c,z(W[se]),x.maxDepth+=W[se].depth),(se!==0||c!==\"\")&&ue.push(c),le=j}if(le&&le+1<D.length){let se=D.slice(le+1);ue.push(se),H.tokens&&(W[W.length-1].value=se,z(W[W.length-1]),x.maxDepth+=W[W.length-1].depth)}x.slashes=Q,x.parts=ue}return x};d.exports=T},96:(d,h,g)=>{let{REGEX_BACKSLASH:m,REGEX_REMOVE_BACKSLASH:w,REGEX_SPECIAL_CHARS:b,REGEX_SPECIAL_CHARS_GLOBAL:S}=g(154);h.isObject=E=>E!==null&&typeof E==\"object\"&&!Array.isArray(E),h.hasRegexChars=E=>b.test(E),h.isRegexChar=E=>E.length===1&&h.hasRegexChars(E),h.escapeRegex=E=>E.replace(S,\"\\\\$1\"),h.toPosixSlashes=E=>E.replace(m,\"/\"),h.removeBackslashes=E=>E.replace(w,_=>_===\"\\\\\"?\"\":_),h.escapeLast=(E,_,i)=>{let R=E.lastIndexOf(_,i);return R===-1?E:E[R-1]===\"\\\\\"?h.escapeLast(E,_,R-1):`${E.slice(0,R)}\\\\${E.slice(R)}`},h.removePrefix=(E,_={})=>{let i=E;return i.startsWith(\"./\")&&(i=i.slice(2),_.prefix=\"./\"),i},h.wrapOutput=(E,_={},i={})=>{let R=i.contains?\"\":\"^\",v=i.contains?\"\":\"$\",C=`${R}(?:${E})${v}`;return _.negated===!0&&(C=`(?:^(?!${C}).*$)`),C},h.basename=(E,{windows:_}={})=>{let i=E.split(_?/[\\\\/]/:\"/\"),R=i[i.length-1];return R===\"\"?i[i.length-2]:R}}},e={};function r(d){var h=e[d];if(h!==void 0)return h.exports;var g=e[d]={exports:{}},m=!0;try{n[d](g,g.exports,r),m=!1}finally{m&&delete e[d]}return g.exports}typeof r<\"u\"&&(r.ab=__dirname+\"/\");var u=r(170);Bt.exports=u})()});var kt=G(Qe=>{\"use strict\";Object.defineProperty(Qe,\"__esModule\",{value:!0});function Wn(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}Wn(Qe,{hasLocalMatch:function(){return Kn},matchLocalPattern:function(){return Nt}});var Vn=Ke();function Nt(n,e){if(n.search!==void 0&&n.search!==e.search)return!1;var r;return!!(0,Vn.makeRe)((r=n.pathname)!=null?r:\"**\",{dot:!0}).test(e.pathname)}function Kn(n,e){if(!n)return!0;let r=new URL(e,\"http://n\");return n.some(u=>Nt(u,r))}});var Ht=G(Ye=>{\"use strict\";Object.defineProperty(Ye,\"__esModule\",{value:!0});function Qn(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}Qn(Ye,{hasRemoteMatch:function(){return Yn},matchRemotePattern:function(){return $t}});var Dt=Ke();function $t(n,e){if(n.protocol!==void 0&&n.protocol.replace(/:$/,\"\")!==e.protocol.replace(/:$/,\"\")||n.port!==void 0&&n.port!==e.port)return!1;if(n.hostname===void 0)throw Object.defineProperty(new Error(`Pattern should define hostname but found\n`+JSON.stringify(n)),\"__NEXT_ERROR_CODE\",{value:\"E410\",enumerable:!1,configurable:!0});if(!(0,Dt.makeRe)(n.hostname).test(e.hostname)||n.search!==void 0&&n.search!==e.search)return!1;var r;return!!(0,Dt.makeRe)((r=n.pathname)!=null?r:\"**\",{dot:!0}).test(e.pathname)}function Yn(n,e,r){return n.some(u=>r.hostname===u)||e.some(u=>$t(u,r))}});var et=G(Je=>{\"use strict\";Object.defineProperty(Je,\"__esModule\",{value:!0});Object.defineProperty(Je,\"default\",{enumerable:!0,get:function(){return Zn}});var Ze=75;function jt(n){let{config:e,src:r,width:u,quality:d}=n;var h;{let m=[];if(r||m.push(\"src\"),u||m.push(\"width\"),m.length>0)throw Object.defineProperty(new Error(\"Next Image Optimization requires \"+m.join(\", \")+\" to be provided. Make sure you pass them as props to the `next/image` component. Received: \"+JSON.stringify({src:r,width:u,quality:d})),\"__NEXT_ERROR_CODE\",{value:\"E188\",enumerable:!1,configurable:!0});if(r.startsWith(\"//\"))throw Object.defineProperty(new Error('Failed to parse src \"'+r+'\" on `next/image`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)'),\"__NEXT_ERROR_CODE\",{value:\"E360\",enumerable:!1,configurable:!0});if(r.startsWith(\"/\")&&e.localPatterns&&process.env.NEXT_RUNTIME!==\"edge\"){let{hasLocalMatch:w}=kt();if(!w(e.localPatterns,r))throw Object.defineProperty(new Error(\"Invalid src prop (\"+r+\") on `next/image` does not match `images.localPatterns` configured in your `next.config.js`\\nSee more info: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns\"),\"__NEXT_ERROR_CODE\",{value:\"E426\",enumerable:!1,configurable:!0})}if(!r.startsWith(\"/\")&&(e.domains||e.remotePatterns)){let w;try{w=new URL(r)}catch(b){throw console.error(b),Object.defineProperty(new Error('Failed to parse src \"'+r+'\" on `next/image`, if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)'),\"__NEXT_ERROR_CODE\",{value:\"E63\",enumerable:!1,configurable:!0})}if(process.env.NEXT_RUNTIME!==\"edge\"){let{hasRemoteMatch:b}=Ht();if(!b(e.domains,e.remotePatterns,w))throw Object.defineProperty(new Error(\"Invalid src prop (\"+r+') on `next/image`, hostname \"'+w.hostname+'\" is not configured under images in your `next.config.js`\\nSee more info: https://nextjs.org/docs/messages/next-image-unconfigured-host'),\"__NEXT_ERROR_CODE\",{value:\"E231\",enumerable:!1,configurable:!0})}}if(d&&e.qualities&&!e.qualities.includes(d))throw Object.defineProperty(new Error(\"Invalid quality prop (\"+d+\") on `next/image` does not match `images.qualities` configured in your `next.config.js`\\nSee more info: https://nextjs.org/docs/messages/next-image-unconfigured-qualities\"),\"__NEXT_ERROR_CODE\",{value:\"E623\",enumerable:!1,configurable:!0})}let g=d||((h=e.qualities)==null?void 0:h.reduce((m,w)=>Math.abs(w-Ze)<Math.abs(m-Ze)?w:m))||Ze;return e.path+\"?url=\"+encodeURIComponent(r)+\"&w=\"+u+\"&q=\"+g+(r.startsWith(\"/_next/static/media/\")&&process.env.NEXT_DEPLOYMENT_ID?\"&dpl=\"+process.env.NEXT_DEPLOYMENT_ID:\"\")}jt.__next_img_default=!0;var Zn=jt});var Ut=G((ge,qt)=>{\"use strict\";Object.defineProperty(ge,\"__esModule\",{value:!0});Object.defineProperty(ge,\"useMergedRef\",{enumerable:!0,get:function(){return Jn}});var tt=_e();function Jn(n,e){let r=(0,tt.useRef)(null),u=(0,tt.useRef)(null);return(0,tt.useCallback)(d=>{if(d===null){let h=r.current;h&&(r.current=null,h());let g=u.current;g&&(u.current=null,g())}else n&&(r.current=Mt(n,d)),e&&(u.current=Mt(e,d))},[n,e])}function Mt(n,e){if(typeof n==\"function\"){let r=n(e);return typeof r==\"function\"?r:()=>n(null)}else return n.current=e,()=>{n.current=null}}(typeof ge.default==\"function\"||typeof ge.default==\"object\"&&ge.default!==null)&&typeof ge.default.__esModule>\"u\"&&(Object.defineProperty(ge.default,\"__esModule\",{value:!0}),Object.assign(ge.default,ge),qt.exports=ge.default)});var Vt=G((me,Wt)=>{\"use client\";\"use strict\";Object.defineProperty(me,\"__esModule\",{value:!0});Object.defineProperty(me,\"Image\",{enumerable:!0,get:function(){return dr}});var nt=Re(),er=He(),we=Ae(),he=er._(_e()),zt=nt._(gt()),tr=nt._(Ft()),nr=$e(),rr=Pe(),or=Lt(),Ce=Fe(),sr=Tt(),ar=nt._(et()),lr=Ut(),ir=process.env.__NEXT_IMAGE_OPTS;typeof window>\"u\"&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);function Xt(n,e,r,u,d,h,g){let m=n?.src;if(!n||n[\"data-loaded-src\"]===m)return;n[\"data-loaded-src\"]=m,(\"decode\"in n?n.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(!(!n.parentElement||!n.isConnected)){if(e!==\"empty\"&&d(!0),r?.current){let b=new Event(\"load\");Object.defineProperty(b,\"target\",{writable:!1,value:n});let S=!1,E=!1;r.current({...b,nativeEvent:b,currentTarget:n,target:n,isDefaultPrevented:()=>S,isPropagationStopped:()=>E,persist:()=>{},preventDefault:()=>{S=!0,b.preventDefault()},stopPropagation:()=>{E=!0,b.stopPropagation()}})}u?.current&&u.current(n);{let b=new URL(m,\"http://n\").searchParams.get(\"url\")||m;if(n.getAttribute(\"data-nimg\")===\"fill\"){if(!h&&(!g||g===\"100vw\")&&n.getBoundingClientRect().width/window.innerWidth<.6&&(g===\"100vw\"?(0,Ce.warnOnce)('Image with src \"'+b+'\" has \"fill\" prop and \"sizes\" prop of \"100vw\", but image is not rendered at full viewport width. Please adjust \"sizes\" to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes'):(0,Ce.warnOnce)('Image with src \"'+b+'\" has \"fill\" but is missing \"sizes\" prop. Please add it to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes')),n.parentElement){let{position:_}=window.getComputedStyle(n.parentElement),i=[\"absolute\",\"fixed\",\"relative\"];i.includes(_)||(0,Ce.warnOnce)('Image with src \"'+b+'\" has \"fill\" and parent element with invalid \"position\". Provided \"'+_+'\" should be one of '+i.map(String).join(\",\")+\".\")}n.height===0&&(0,Ce.warnOnce)('Image with src \"'+b+'\" has \"fill\" and a height value of 0. This is likely because the parent element of the image has not been styled to have a set height.')}let S=n.height.toString()!==n.getAttribute(\"height\"),E=n.width.toString()!==n.getAttribute(\"width\");(S&&!E||!S&&E)&&(0,Ce.warnOnce)('Image with src \"'+b+`\" has either width or height modified, but not the other. If you use CSS to change the size of your image, also include the styles 'width: \"auto\"' or 'height: \"auto\"' to maintain the aspect ratio.`)}}})}function Gt(n){return he.use?{fetchPriority:n}:{fetchpriority:n}}var cr=(0,he.forwardRef)((n,e)=>{let{src:r,srcSet:u,sizes:d,height:h,width:g,decoding:m,className:w,style:b,fetchPriority:S,placeholder:E,loading:_,unoptimized:i,fill:R,onLoadRef:v,onLoadingCompleteRef:C,setBlurComplete:p,setShowAltText:B,sizesInput:l,onLoad:L,onError:F,...$}=n,k=(0,he.useCallback)(T=>{T&&(F&&(T.src=T.src),r||console.error('Image is missing required \"src\" property:',T),T.getAttribute(\"alt\")===null&&console.error('Image is missing required \"alt\" property. Please add Alternative Text to describe the image for screen readers and search engines.'),T.complete&&Xt(T,E,v,C,p,i,l))},[r,E,v,C,p,F,i,l]),z=(0,lr.useMergedRef)(e,k);return(0,we.jsx)(\"img\",{...$,...Gt(S),loading:_,width:g,height:h,decoding:m,\"data-nimg\":R?\"fill\":\"1\",className:w,style:b,sizes:d,srcSet:u,src:r,ref:z,onLoad:T=>{let D=T.currentTarget;Xt(D,E,v,C,p,i,l)},onError:T=>{B(!0),E!==\"empty\"&&p(!0),F&&F(T)}})});function ur(n){let{isAppRouter:e,imgAttributes:r}=n,u={as:\"image\",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...Gt(r.fetchPriority)};return e&&zt.default.preload?(zt.default.preload(r.src,u),null):(0,we.jsx)(tr.default,{children:(0,we.jsx)(\"link\",{rel:\"preload\",href:r.srcSet?void 0:r.src,...u},\"__nimg-\"+r.src+r.srcSet+r.sizes)})}var dr=(0,he.forwardRef)((n,e)=>{let u=!(0,he.useContext)(sr.RouterContext),d=(0,he.useContext)(or.ImageConfigContext),h=(0,he.useMemo)(()=>{var C;let p=ir||d||rr.imageConfigDefault,B=[...p.deviceSizes,...p.imageSizes].sort((F,$)=>F-$),l=p.deviceSizes.sort((F,$)=>F-$),L=(C=p.qualities)==null?void 0:C.sort((F,$)=>F-$);return{...p,allSizes:B,deviceSizes:l,qualities:L}},[d]),{onLoad:g,onLoadingComplete:m}=n,w=(0,he.useRef)(g);(0,he.useEffect)(()=>{w.current=g},[g]);let b=(0,he.useRef)(m);(0,he.useEffect)(()=>{b.current=m},[m]);let[S,E]=(0,he.useState)(!1),[_,i]=(0,he.useState)(!1),{props:R,meta:v}=(0,nr.getImgProps)(n,{defaultLoader:ar.default,imgConf:h,blurComplete:S,showAltText:_});return(0,we.jsxs)(we.Fragment,{children:[(0,we.jsx)(cr,{...R,unoptimized:v.unoptimized,placeholder:v.placeholder,fill:v.fill,onLoadRef:w,onLoadingCompleteRef:b,setBlurComplete:E,setShowAltText:i,sizesInput:n.sizes,ref:e}),v.priority?(0,we.jsx)(ur,{isAppRouter:u,imgAttributes:R}):null]})});(typeof me.default==\"function\"||typeof me.default==\"object\"&&me.default!==null)&&typeof me.default.__esModule>\"u\"&&(Object.defineProperty(me.default,\"__esModule\",{value:!0}),Object.assign(me.default,me),Wt.exports=me.default)});var Kt=G(rt=>{\"use strict\";Object.defineProperty(rt,\"__esModule\",{value:!0});function pr(n,e){for(var r in e)Object.defineProperty(n,r,{enumerable:!0,get:e[r]})}pr(rt,{default:function(){return mr},getImageProps:function(){return gr}});var hr=Re(),fr=$e(),Er=Vt(),yr=hr._(et());function gr(n){let{props:e}=(0,fr.getImgProps)(n,{defaultLoader:yr.default,imgConf:process.env.__NEXT_IMAGE_OPTS});for(let[r,u]of Object.entries(e))u===void 0&&delete e[r];return{props:e}}var mr=Er.Image});var Yt=G((qr,Qt)=>{Qt.exports=Kt()});var br={};an(br,{default:()=>en,frontmatter:()=>_r});var t=st(Ae()),Jt=st(Yt()),_r={title:\"The URL is a great place to store state in React\",description:\"Why it's a good idea to use the URL to store state\",publishDate:\"2025-03-11\",tags:[\"React\",\"URL\",\"State\",\"Advanced React Patterns\",\"useState\"]};function Zt(n){let e={a:\"a\",code:\"code\",figure:\"figure\",h2:\"h2\",h4:\"h4\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:\"Sometimes, the best place to store state is right in the URL. It\\u2019s simple, practical, and often overlooked. Let\\u2019s explore why it\\u2019s worth considering.\"}),`\n`,(0,t.jsx)(e.h2,{id:\"the-problem\",children:\"The Problem\"}),`\n`,(0,t.jsx)(e.p,{children:`Here's what we want to achieve:\nLet's say we have a modal (dialog) component that allows the user to perform some important actions which are part of the core flow. We would like the modal to stay open even after the user reloads the page.`}),`\n`,(0,t.jsxs)(e.p,{children:[\"If we were to just use \",(0,t.jsx)(e.code,{children:\"useState\"}),\" for the modal \",(0,t.jsx)(e.code,{children:\"open\"}),\" state, we would lose this information when the page reloads. Let's see how we can solve this problem.\"]}),`\n`,(0,t.jsx)(Jt.default,{src:\"https://res.cloudinary.com/dc7wg0knu/image/upload/v1737826203/url-as-state-before-after_ia5irl.png\",alt:\"Before and After\",width:800,height:100}),`\n`,(0,t.jsx)(e.h2,{id:\"ways-to-store-state-on-the-client\",children:\"Ways to Store State on the Client\"}),`\n`,(0,t.jsx)(e.p,{children:`Let's look at the options we have to store state to achieve the desired behavior.\nThe options can generally be categorized as follows:`}),`\n`,(0,t.jsx)(e.h4,{id:\"in-the-application\",children:\"In the Application\"}),`\n`,(0,t.jsx)(e.p,{children:\"Data that belongs in the working memory of the application. Lasts as long as the application is running.\"}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"open\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setOpen\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Modal\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" open\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"={\"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"open\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onClose\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"={() \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setOpen\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")} />;\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,t.jsx)(e.h4,{id:\"in-the-browser\",children:\"In the Browser\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"Data that is stored in the browser. Examples include \",(0,t.jsx)(e.code,{children:\"localStorage\"}),\" and \",(0,t.jsx)(e.code,{children:\"sessionStorage\"}),\".\"]}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"open\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setOpen\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        try\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" localStorage.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"getItem\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"modalOpen\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"===\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"true\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            console.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Failed to read from localStorage:\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            return\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" false\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"; \"}),(0,t.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// Default fallback value\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    });\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    useEffect\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        try\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            localStorage.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setItem\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"modalOpen\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", open);\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            console.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Failed to write to localStorage:\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        }\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, [open]);\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Modal\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" open\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"={\"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"open\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"} \"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"onClose\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"={() \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" setOpen\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")} />;\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,t.jsx)(e.h4,{id:\"in-the-server\",children:\"In the Server\"}),`\n`,(0,t.jsx)(e.p,{children:\"Data that is stored in the server and accessible via an API. This method would require the client to make a request to the server each time the state of the modal changes.\"}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"ts\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" App\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"open\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setOpen\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"isOpen\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setIsOpen\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useState\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"false\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"    useEffect\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        const\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" updateModalState\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" async\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"            try\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"                const\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" response\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" fetch\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"/api/modal\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"                    method: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"POST\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"                    headers: {\"})}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'                        \"Content-Type\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\": \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"application/json\"'})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"                    },\"})}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"                    body: \"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"JSON\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\".\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"stringify\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ open: isOpen }),\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"                });\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"                if\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"response.ok) {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"                    throw\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Error\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"`API error: ${\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"response\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\".\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"status\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"}`\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"                }\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"                const\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" data\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" await\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" response.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"json\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"                if\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (data.modalState \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"!==\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" undefined\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"                    setOpen\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data.modalState);\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"                }\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"catch\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (error) {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"                console.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"error\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"Failed to update modal state:\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", error);\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            }\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        };\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        updateModalState\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    }, [isOpen]);\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        <\"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"Modal\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            open\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{open}\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            onClose\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{() => \"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"setIsOpen\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#FFAB70\"},children:\"false\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"        />\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"};\"})})]})})}),`\n`,(0,t.jsx)(e.h4,{id:\"in-the-url\",children:\"In the URL\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"This is the encoded data stored in the URL in the form of a \",(0,t.jsx)(e.code,{children:\"string\"}),\". Good examples are Query Parameters (\",(0,t.jsx)(e.code,{children:'\"/users?userId=desc\"'}),\") and Path Parameters (\",(0,t.jsx)(e.code,{children:'\"/users/1324\"'}),\").\"]}),`\n`,(0,t.jsx)(e.h2,{id:\"why-choose-the-url\",children:\"Why choose the URL\"}),`\n`,(0,t.jsx)(e.p,{children:\"As with everything, there are pros and cons to each approach.\"}),`\n`,(0,t.jsx)(e.h4,{id:\"pros\",children:\"Pros\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:\"Shareable between users\"}),\": The URL is accessible to anyone who has the link to the page. This makes it easy to share the URL with others.\"]}),`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:\"Fast\"}),\": Reading from the URL is generally faster than reading from localStorage, or requesting data from the server.\"]}),`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:\"Global\"}),\": The state is global and can be accessed by any component.\"]}),`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:\"Navigation-friendly (Optional)\"}),\": The state can leave a trail in the browser history, which can be useful for certain applications.\"]}),`\n`]}),`\n`,(0,t.jsx)(e.h4,{id:\"cons\",children:\"Cons\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:\"Hard to debug and maintain\"}),\": When state is stored in the URL, it can be challenging to trace issues back to the source, especially if the URL becomes complex with multiple parameters.\"]}),`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:\"Hard to scale:\"}),\" Storing large amounts of state in the URL can lead to lengthy URLs, which \",(0,t.jsx)(e.a,{href:\"https://stackoverflow.com/questions/812925/what-is-the-maximum-possible-length-of-a-query-string\",children:\"may exceed browser limits\"}),\" and degrade user experience.\"]}),`\n`,(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:\"Not type-safe out of the box\"}),\": URL parameters are typically strings, requiring additional parsing and validation to ensure the correct data types are used, which can introduce bugs if not handled properly.\"]}),`\n`]}),`\n`,(0,t.jsx)(e.h2,{id:\"how-to-store-state-in-the-url\",children:\"How to store state in the URL\"}),`\n`,(0,t.jsx)(e.p,{children:\"Storing state in the URL involves using query parameters (?key=value) or hash fragments (#section). This allows state persistence across page reloads and enables users to share specific application states via URLs.\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"In React, \",(0,t.jsx)(e.code,{children:\"useSearchParams\"}),\" from React Router or the \",(0,t.jsx)(e.code,{children:\"URLSearchParams\"}),\" API can be used to manage query parameters dynamically.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Using \",(0,t.jsx)(e.code,{children:\"useSearchParams\"}),\" (React Router)\"]}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useSearchParams } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"react-router-dom\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Example\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"searchParams\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setSearchParams\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useSearchParams\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"();\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" updateParam\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setSearchParams\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({ filter: \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"active\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" });\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            <\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{updateParam}>Set Filter</\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            <\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Current Filter: {searchParams.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"filter\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")}</\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,t.jsx)(e.p,{children:\"This ensures state is reflected in the URL (?filter=active) and persists across reloads.\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"Using \",(0,t.jsx)(e.code,{children:\"URLSearchParams\"}),\" (Vanilla JS)\"]}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"jsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\" params\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" new\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" URLSearchParams\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(window.location.search);\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"params.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"theme\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"dark\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"window.history.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"replaceState\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({}, \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"?\"'}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" +\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" params.\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"toString\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"());\"})]})]})})}),`\n`,(0,t.jsx)(e.p,{children:\"This manually updates the URL without causing a page reload.\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"If your needs are a little more complex, then third-party utilities like \",(0,t.jsx)(e.a,{href:\"https://github.com/47ng/nuqs\",children:\"nuqs\"}),\" are great options for managing URL state in React with type-safety.\"]}),`\n`,(0,t.jsx)(e.figure,{\"data-rehype-pretty-code-figure\":\"\",children:(0,t.jsx)(e.pre,{style:{backgroundColor:\"#24292e\",color:\"#e1e4e8\"},tabIndex:\"0\",\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",children:(0,t.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"github-dark\",style:{display:\"grid\"},children:[(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { useQueryState } \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:' \"nuqs\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" Example\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"filter\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,t.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"setFilter\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" useQueryState\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"filter\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    const\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" updateParam\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\" =\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"        setFilter\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,t.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"active\"'}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    };\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:\" \"}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"    return\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" (\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        <\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            <\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,t.jsx)(e.span,{style:{color:\"#B392F0\"},children:\" onClick\"}),(0,t.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"{updateParam}>Set Filter</\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"button\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"            <\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">Current Filter: {filter}</\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,t.jsxs)(e.span,{\"data-line\":\"\",children:[(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"        </\"}),(0,t.jsx)(e.span,{style:{color:\"#85E89D\"},children:\"div\"}),(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"    );\"})}),`\n`,(0,t.jsx)(e.span,{\"data-line\":\"\",children:(0,t.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,t.jsx)(e.h2,{id:\"conclusion\",children:\"Conclusion\"}),`\n`,(0,t.jsx)(e.p,{children:\"Choosing where to store state depends on its purpose and how it interacts with the application. Query parameters (?key=value) are ideal in specific scenarios where state persistence, shareability, and browser behavior are important.\"}),`\n`,(0,t.jsx)(e.h4,{id:\"use-query-parameters-or-path-parameters-when\",children:\"Use Query Parameters (or Path Parameters) When:\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"State should persist across page reloads (e.g., filters, pagination, modal visibility).\"}),`\n`,(0,t.jsx)(e.li,{children:\"Users should be able to share the state via URL (e.g., search queries, UI settings).\"}),`\n`,(0,t.jsx)(e.li,{children:\"The state affects navigation (e.g., active tabs, sorting options).\"}),`\n`,(0,t.jsx)(e.li,{children:\"You want deep linking support (e.g., restoring UI state when returning to a page).\"}),`\n`]}),`\n`,(0,t.jsx)(e.h4,{id:\"use-usestate-when\",children:\"Use useState When:\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"The state is temporary and UI-specific (e.g., form input before submission).\"}),`\n`,(0,t.jsx)(e.li,{children:\"Storing state in the URL is unnecessary for sharing or navigation.\"}),`\n`,(0,t.jsx)(e.li,{children:\"State changes frequently and shouldn't affect navigation history.\"}),`\n`]}),`\n`,(0,t.jsx)(e.h4,{id:\"use-local-storage-or-session-storage-when\",children:\"Use Local Storage (or Session Storage) When:\"}),`\n`,(0,t.jsxs)(e.ul,{children:[`\n`,(0,t.jsx)(e.li,{children:\"State should persist across sessions but not be visible in the URL (e.g., user preferences, authentication tokens, form input before submission).\"}),`\n`,(0,t.jsx)(e.li,{children:\"Data should not be lost on refresh but is not meant for sharing.\"}),`\n`]})]})}function en(n={}){let{wrapper:e}=n.components||{};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(Zt,{...n})}):Zt(n)}return ln(br);})();\n;return Component;"
  },
  "_id": "blog/react-state-in-the-url.mdx",
  "_raw": {
    "sourceFilePath": "blog/react-state-in-the-url.mdx",
    "sourceFileName": "react-state-in-the-url.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/react-state-in-the-url"
  },
  "type": "Blog",
  "slug": "react-state-in-the-url"
}